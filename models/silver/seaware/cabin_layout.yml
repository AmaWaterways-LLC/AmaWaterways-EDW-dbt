version: 2

models:
  - name: cabin_layout
    description: >
      The cabin_layout model represents a standardized view of cabin layout data
      across multiple source systems, including SW1 and SW2. This model unifies
      structurally different source tables into a single, consistent structure
      for downstream analytics, reporting, and auditing.

      The model is built as a full-refresh table and preserves source-specific
      identifiers and attributes. Differences between systems may exist due to
      varying data collection methods, update frequencies, and schema designs.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    columns:
      - name: CABIN_LAYOUT_SURROGATE_KEY
        description: >
          A technical surrogate identifier generated from the combination of
          DATA_SOURCE and a source-specific cabin layout identifier
          (CABIN_LAYOUT_ID for SW1 or RECORD_ID for SW2). This key is intended for
          downstream joins and convenience and is not enforced as a business
          uniqueness constraint.

        tests:
          - not_null

      - name: DATA_SOURCE
        description: >
          The source system from which the cabin layout data originates, either
          SW1 or SW2. This column enables data lineage tracking, auditing, and
          source-level analysis.

        tests:
          - not_null

      - name: RECORD_ID
        description: >
          A source-system identifier for cabin layout records originating from
          the SW2 system. This column is populated only for SW2 records and is
          preserved for lineage and auditing purposes.

      - name: CABIN_LAYOUT_HEADER_ID
        description: >
          A source-system identifier referencing the cabin layout header in the
          SW2 system. This column is used to associate cabin layouts with their
          corresponding headers where applicable.

      - name: CABIN_ID
        description: >
          A unique identifier representing an individual cabin. This column is
          used for cabin-level analysis, reporting, and utilization metrics.

      - name: OBJECT
        description: >
          A descriptive attribute representing the cabin object. This column
          provides additional contextual information about the cabin layout.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp indicating when the cabin layout record was last updated
          in the source system. This column supports auditability and data
          freshness analysis.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the cabin layout record has been marked as
          deleted in the source system. This column supports soft-delete handling
          and historical auditing.

      - name: CABIN_LAYOUT_ID
        description: >
          A source-system identifier for cabin layout records originating from
          the SW1 system. This column is populated only for SW1 records and is
          preserved for reference and lineage purposes.

      - name: DECK_ID
        description: >
          A source-system identifier referencing the deck associated with a cabin
          layout in the SW1 system. This column links cabin layouts to their
          corresponding decks where applicable.
