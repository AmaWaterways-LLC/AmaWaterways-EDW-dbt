models:
  - name: cabin_layout
    description: >
      The cabin_layout model represents the standardized layout of cabins across multiple data sources, 
      including SW1 and SW2. This model is crucial for downstream analytics and reporting, 
      providing a unified view of cabin layouts. Data from multiple systems may differ due to 
      varying data collection methods or update frequencies. This model is used to generate 
      reports on cabin utilization, analyze layout changes over time, and audit data discrepancies.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - CABIN_LAYOUT_SURROGATE_KEY

    columns:
      - name: CABIN_LAYOUT_SURROGATE_KEY
        description: >
          A unique identifier for each cabin layout, generated by combining the cabin layout ID 
          and data source. This column ensures row uniqueness and facilitates data integration.
        tests:
          - not_null

      - name: DATA_SOURCE
        description: >
          The source system of the cabin layout data, either SW1 or SW2. This column is used 
          to track data origin and handle potential discrepancies between sources.

      - name: RECORD_ID
        description: >
          A unique identifier for each record in the SW2 source system. This column is used 
          for data tracking and auditing purposes.

      - name: CABIN_LAYOUT_HEADER_ID
        description: >
          A foreign key referencing the cabin layout header in the SW2 source system. This 
          column is used to link cabin layouts to their corresponding headers.

      - name: CABIN_ID
        description: >
          A unique identifier for each cabin. This column is used to analyze cabin-specific 
          data and generate reports on cabin utilization.

      - name: OBJECT
        description: >
          A string describing the cabin object. This column is used to provide additional 
          context for cabin layouts.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp of the last update to the cabin layout data. This column is used to 
          track data freshness and identify potential data staleness.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the cabin layout data has been deleted in the source 
          system. This column is used to handle data removal and updates.

      - name: CABIN_LAYOUT_ID
        description: >
          A unique identifier for each cabin layout in the SW1 source system. This column 
          is used to link cabin layouts to their corresponding data.

      - name: DECK_ID
        description: >
          A foreign key referencing the deck in the SW1 source system. This column is used 
          to link cabin layouts to their corresponding decks.