models:
- name: household
  description: 'The household model represents a standardized view of household data
    from multiple source systems, SW1 and SW2.  Data from these systems may differ
    due to differences in data collection, processing, and storage.  This model is
    used downstream for reporting, analytics, and auditability, providing a unified
    understanding of household information.  Key analytical use cases include tracking
    household changes, analyzing household demographics, and identifying data discrepancies
    between source systems.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - HOUSEHOLD_ID
      - DATA_SOURCE
      

  columns:
  - name: HOUSEHOLD_SURROGATE_KEY
    description: 'A unique identifier for each household, generated by combining the
      HOUSEHOLD_ID and DATA_SOURCE columns.  This key ensures that each household
      is uniquely represented across different source systems.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the household data originates, either
      SW1 or SW2.  This column is used to track data lineage and identify potential
      discrepancies between source systems.

      '
  - name: HOUSEHOLD_ID
    description: 'A unique identifier for each household within a source system.  This
      column, combined with DATA_SOURCE, forms the primary key for the household model.  It
      is used to track changes to household information over time.

      '
    tests:
    - not_null
  - name: HOUSEHOLD_NAME
    description: 'The name associated with the household.  This column is used for
      reporting and analytics, providing a human-readable identifier for each household.

      '
  - name: LAST_NAME_TYPED
    description: 'The last name typed for the household.  This column may be used
      for data validation and quality control, ensuring that household names are accurately
      captured.

      '
  - name: LAST_NAME
    description: 'The last name associated with the household.  This column is used
      for reporting and analytics, providing a standardized view of household names.

      '
  - name: SALUTATION
    description: 'The salutation used for the household.  This column is used for
      reporting and analytics, providing a personalized view of household information.

      '
  - name: COMMENTS
    description: 'Additional comments or notes associated with the household.  This
      column may be used for data validation and quality control, providing context
      for household information.

      '
  - name: MAX_CLIENT_SEQN
    description: 'The maximum client sequence number associated with the household.  This
      column is used for reporting and analytics, providing a view of household-client
      relationships.

      '
  - name: IS_ACTIVE
    description: 'A flag indicating whether the household is active or inactive.  This
      column is used for reporting and analytics, providing a view of household status.

      '
  - name: LAST_NAME_NATIVE
    description: 'The last name in the native language associated with the household.  This
      column may be used for data validation and quality control, ensuring that household
      names are accurately captured.

      '
  - name: HOUSEHOLD_GUID
    description: 'A globally unique identifier for the household.  This column may
      be used for data integration and interoperability, providing a standardized
      identifier for each household.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the household information was last updated.  This
      column is used for reporting and analytics, providing a view of data freshness
      and currency.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the household has been deleted in the source
      system.  This column is used for data validation and quality control, ensuring
      that deleted households are accurately tracked.
