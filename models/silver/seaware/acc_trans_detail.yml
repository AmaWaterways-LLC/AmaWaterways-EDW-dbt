models:
  - name: acc_trans_detail
    description: >
      This model represents a standardized view of account transaction details from multiple source systems (SW1 and SW2). 
      The data from these systems may differ due to variations in data capture, processing, and storage. 
      This model is used downstream for financial reporting, analytics, and auditability, providing a unified view of account transactions. 
      Key analytical use cases include tracking transaction amounts, identifying trends in transaction types, and monitoring data inconsistencies between source systems.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - TRANS_ID
            - DATA_SOURCE
          

    columns:
      - name: ACC_TRANS_DETAIL_SURROGATE_KEY
        description: >
          A unique identifier for each account transaction detail record, generated by combining TRANS_ID and DATA_SOURCE.

      - name: DATA_SOURCE
        description: >
          The source system from which the account transaction detail data originated (SW1 or SW2).

      - name: TRANS_ID
        description: >
          A unique identifier for the account transaction, used in conjunction with DATA_SOURCE to ensure uniqueness.
        tests:
          - not_null

      - name: TRANS_STATUS
        description: >
          The current status of the account transaction (e.g., pending, processed, cancelled).

      - name: FORM_OF_TRANS
        description: >
          The form or type of account transaction (e.g., payment, refund, transfer).

      - name: TRANS_TYPE
        description: >
          A categorization of the account transaction (e.g., credit, debit).

      - name: SOURCE_ENTITY_TYPE
        description: >
          The type of entity that initiated the account transaction (e.g., customer, vendor).

      - name: SOURCE_ENTITY_ID
        description: >
          A unique identifier for the entity that initiated the account transaction.

      - name: DEST_ENTITY_TYPE
        description: >
          The type of entity that received the account transaction (e.g., customer, vendor).

      - name: DEST_ENTITY_ID
        description: >
          A unique identifier for the entity that received the account transaction.

      - name: EXTERNAL_IDENT
        description: >
          An external identifier associated with the account transaction (e.g., payment gateway ID).

      - name: BATCH_HDR_ID
        description: >
          A unique identifier for the batch header associated with the account transaction.

      - name: TRANS_TIME_STAMP
        description: >
          The timestamp when the account transaction occurred.

      - name: TRANS_GROUP_ID
        description: >
          A unique identifier for the group of account transactions.

      - name: COMMENTS
        description: >
          Additional comments or notes related to the account transaction.

      - name: USER_ID
        description: >
          A unique identifier for the user who initiated or processed the account transaction.

      - name: VOIDED_TIME_STAMP
        description: >
          The timestamp when the account transaction was voided, if applicable.

      - name: VOIDED_BY_USER_ID
        description: >
          A unique identifier for the user who voided the account transaction, if applicable.

      - name: APPROVED_TIME_STAMP
        description: >
          The timestamp when the account transaction was approved, if applicable.

      - name: APPROVED_BY_USER_ID
        description: >
          A unique identifier for the user who approved the account transaction, if applicable.

      - name: TRANS_STATUS_TIME_STAMP
        description: >
          The timestamp when the account transaction status was last updated.

      - name: USE_EXTENDED_PAY
        description: >
          A flag indicating whether extended payment terms were used for the account transaction.

      - name: DUE_DATE
        description: >
          The due date for the account transaction, if applicable.

      - name: INSUR_PAID
        description: >
          A flag indicating whether insurance was paid for the account transaction.

      - name: CC_AUTH_CODE
        description: >
          The credit card authorization code associated with the account transaction, if applicable.

      - name: OFFICE_CODE
        description: >
          A code representing the office or location associated with the account transaction.

      - name: AR_AP_SEQ_ID
        description: >
          A unique identifier for the accounts receivable/accounts payable sequence associated with the account transaction.

      - name: AR_AP_TIME_STAMP
        description: >
          The timestamp when the accounts receivable/accounts payable transaction occurred.

      - name: AR_AP_DUE_DATE
        description: >
          The due date for the accounts receivable/accounts payable transaction, if applicable.

      - name: MERCHANT_NUMBER
        description: >
          The merchant number associated with the account transaction, if applicable.

      - name: ACT_HIST_ID
        description: >
          A unique identifier for the account history associated with the account transaction.

      - name: FPR_ID
        description: >
          A unique identifier for the financial planning and reporting (FPR) associated with the account transaction.

      - name: OFFICE_LOCATION
        description: >
          The location of the office associated with the account transaction.

      - name: IS_MANUAL
        description: >
          A flag indicating whether the account transaction was manually processed.

      - name: AMOUNT_FULL_TRANS
        description: >
          The full amount of the account transaction.

      - name: AMOUNT_FULL_PRICE
        description: >
          The full price amount of the account transaction.

      - name: CURRENCY_TRANS
        description: >
          The currency used for the account transaction.

      - name: CURRENCY_PRICE
        description: >
          The currency used for the price of the account transaction.

      - name: RATE_TRANSPRICE
        description: >
          The exchange rate used for the account transaction price.

      - name: RATE_PRICEBASE
        description: >
          The base exchange rate used for the account transaction price.

      - name: INVOICED_SEPARATELY
        description: >
          A flag indicating whether the account transaction was invoiced separately.

      - name: BASE_ENTITY_TYPE
        description: >
          The type of base entity associated with the account transaction.

      - name: BASE_ENTITY_ID
        description: >
          A unique identifier for the base entity associated with the account transaction.

      - name: GROUPING_LINE
        description: >
          A grouping line associated with the account transaction.

      - name: CC_CLIENT_ID
        description: >
          A unique identifier for the credit card client associated with the account transaction.

      - name: TERMS_CODE
        description: >
          A code representing the terms associated with the account transaction.

      - name: AFTER_FPR_ID
        description: >
          A unique identifier for the after financial planning and reporting (FPR) associated with the account transaction.

      - name: PREV_INVOICE_ID
        description: >
          A unique identifier for the previous invoice associated with the account transaction.

      - name: DISTRIBUTION_CHANNEL
        description: >
          The distribution channel associated with the account transaction.

      - name: SINGLE_INVOICED
        description: >
          A flag indicating whether the account transaction was single invoiced.

      - name: COMMISS_PAID
        description: >
          A flag indicating whether commission was paid for the account transaction.

      - name: PMNT_FOR_CLIENT_ID
        description: >
          A unique identifier for the payment for client associated with the account transaction.

      - name: GROSS_UP
        description: >
          A flag indicating whether the account transaction was grossed up.

      - name: PAYMENT_TRANS_ID
        description: >
          A unique identifier for the payment transaction associated with the account transaction.

      - name: SERVER_RESPONSE
        description: >
          The server response associated with the account transaction.

      - name: NOT_REFUNDABLE
        description: >
          A flag indicating whether the account transaction is not refundable.

      - name: SEC_TRANS_ID
        description: >
          A unique identifier for the secondary transaction associated with the account transaction.

      - name: TRANS_LINK_TYPE
        description: >
          The type of link associated with the account transaction.

      - name: CC_SERVER_TYPE
        description: >
          The type of credit card server associated with the account transaction.

      - name: GL_RATE_DATE
        description: >
          The general ledger rate date associated with the account transaction.

      - name: TO_BE_BALANCED
        description: >
          A flag indicating whether the account transaction needs to be balanced.

      - name: SERVER_RESPONSE_LONG
        description: >
          The long server response associated with the account transaction.

      - name: EXCH_RATE_TYPE
        description: >
          The type of exchange rate associated with the account transaction.

      - name: POST_DATE
        description: >
          The post date associated with the account transaction.

      - name: BANK_ID
        description: >
          A unique identifier for the bank associated with the account transaction.

      - name: LAST_GL_DATE
        description: >
          The last general ledger date associated with the account transaction.

      - name: AMOUNT_FULL_BASE
        description: >
          The full base amount of the account transaction.

      - name: USER_TYPE
        description: >
          The type of user associated with the account transaction.

      - name: USER_CLIENT_ID
        description: >
          A unique identifier for the user client associated with the account transaction.

      - name: USER_AGENT_ID
        description: >
          A unique identifier for the user agent associated with the account transaction.

      - name: BANK_FEE
        description: >
          The bank fee associated with the account transaction.

      - name: EXCHANGE_GAIN
        description: >
          The exchange gain associated with the account transaction.

      - name: TRANS_GUID
        description: >
          A unique identifier for the account transaction.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the account transaction was last updated.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the account transaction was deleted in the source system.

      - name: CURRENCY_CODE
        description: >
          The currency code associated with the account transaction.

      - name: TRANS_AMOUNT
        description: >
          The amount of the account transaction.

      - name: TRANS_AMOUNT_LEFT
        description: >
          The remaining amount of the account transaction.

      - name: AMOUNT_ORIG_CURRENCY
        description: >
          The original amount of the account transaction in the original currency.

      - name: FIRST_TRANS_ID
        description: >
          A unique identifier for the first transaction associated with the account transaction.

      - name: PREV_TRANS_ID
        description: >
          A unique identifier for the previous transaction associated with the account transaction.

      - name: AMOUNT_ORIG_CURRENCY_LEFT
        description: >
          The remaining original amount of the account transaction in the original currency.

      - name: EXCHANGE_RATE
        description: >
          The exchange rate associated with the account transaction.

      - name: REF_TRANS_ID
        description: >
          A unique identifier for the reference transaction associated with the account transaction.

      - name: INTERN_BALANCED_COM
        description: >
          A flag indicating whether the account transaction is internally balanced.