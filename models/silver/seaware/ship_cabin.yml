models:
  - name: ship_cabin
    description: >
      This model represents a standardized view of ship cabin data from multiple source systems, SW1 and SW2. 
      The data from these systems may differ due to variations in data collection and processing methods. 
      This model is used downstream to provide a unified view of ship cabin information for reporting and analytics purposes. 
      Key analytical use cases include analyzing cabin utilization, monitoring cabin maintenance, and optimizing cabin allocation.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - CABIN_NUMBER
            - SHIP_CODE
            - DATA_SOURCE

    columns:
      - name: SHIP_CABIN_SURROGATE_KEY
        description: >
          A unique identifier for each ship cabin record, generated by combining the cabin number, ship code, and data source.
          This key ensures that each record is distinct and can be used for joining with other tables.

      - name: DATA_SOURCE
        description: >
          The source system from which the ship cabin data was obtained, either SW1 or SW2.
          This column is used to track the origin of the data and to identify any discrepancies between the two systems.

      - name: SHIP_CODE
        description: >
          A unique code identifying the ship to which the cabin belongs.
          This column is used to link the cabin data to the corresponding ship information.

      - name: CABIN_NUMBER
        description: >
          A unique number identifying the cabin on the ship.
          This column, combined with the ship code and data source, forms the primary key of the table.

      - name: CABIN_ID
        description: >
          A numerical identifier for the cabin, used for internal reference purposes.

      - name: DECK_NUMBER
        description: >
          The number of the deck on which the cabin is located.

      - name: CABIN_NAME
        description: >
          The name of the cabin, which may include additional descriptive information.

      - name: COMMENTS
        description: >
          Any additional comments or notes related to the cabin.

      - name: IMAGE_ID
        description: >
          A numerical identifier for an image associated with the cabin.

      - name: CABIN_RANK
        description: >
          A ranking or classification of the cabin, used for categorization purposes.

      - name: FIREZONE_CODE
        description: >
          A code identifying the fire zone in which the cabin is located.

      - name: EXT_CABIN_ID
        description: >
          An external identifier for the cabin, used for integration with other systems.

      - name: RECORD_ADDED_MANUALLY
        description: >
          A flag indicating whether the cabin record was added manually or through automated processes.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the cabin record was last updated.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the cabin record has been deleted in the source system.
