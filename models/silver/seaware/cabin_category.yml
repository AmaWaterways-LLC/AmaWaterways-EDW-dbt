models:
- name: cabin_category
  description: 'The cabin_category model represents a standardized view of cabin categories
    across multiple source systems, including SW1 and SW2. This model is used to provide
    a unified understanding of cabin categories, enabling downstream analytics and
    reporting. Due to differences in source system data, this model helps to reconcile
    discrepancies and provide a single source of truth. Key analytical use cases include
    reporting on cabin category capacity, rank, and activity status.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - CABIN_CATEGORY
      - SHIP_CODE
      - DATA_SOURCE
      

  columns:
  - name: CABIN_CATEGORY_SURROGATE_KEY
    description: 'A unique identifier for each cabin category, generated by combining
      the cabin category, ship code, and data source. This key ensures row uniqueness
      and facilitates joins with other models.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the cabin category data originates,
      either SW1 or SW2. This column helps to track data provenance and identify potential
      discrepancies between sources.

      '
  - name: CABIN_CATEGORY
    description: 'The name or description of the cabin category, representing a distinct
      grouping of cabins on a ship. This column is a key component of the surrogate
      key and plays a crucial role in analytics and reporting.

      '
    tests:
    - not_null
  - name: CABIN_CATEGORY_ID
    description: 'A numeric identifier for the cabin category, used for reference
      and analysis. This column may be used in conjunction with the cabin category
      name to provide additional context.

      '
  - name: COMMENTS
    description: 'Free-form comments or notes related to the cabin category, providing
      additional context or information.

      '
  - name: IMAGE_ID
    description: 'A numeric identifier for an image associated with the cabin category,
      used for reference and analysis.

      '
  - name: CABIN_CAPACITY
    description: 'The maximum number of passengers that can be accommodated in the
      cabin category, used for capacity planning and analysis.

      '
  - name: CABIN_CATEGORY_RANK
    description: 'A ranking or classification of the cabin category, used to distinguish
      between different levels of service or amenities.

      '
  - name: SHIP_CODE
    description: 'A unique identifier for the ship to which the cabin category belongs,
      used to link cabin categories to specific vessels.

      '
    tests:
    - not_null
  - name: IS_WITHOUT_CABINS
    description: 'A flag indicating whether the cabin category is without cabins,
      used to identify categories that do not have associated cabins.

      '
  - name: CATEGORY_CAPACITY
    description: 'The total capacity of the cabin category, used for capacity planning
      and analysis.

      '
  - name: IS_ACTIVE
    description: 'A flag indicating whether the cabin category is active or inactive,
      used to track the status of cabin categories over time.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the cabin category data was last updated, used
      to track changes and updates to the data.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the cabin category has been deleted in
      the source system, used to track data provenance and identify potential discrepancies.
