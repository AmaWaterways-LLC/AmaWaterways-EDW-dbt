models:
  - name: package_itin_option
    description: >
      The package_itin_option model represents a standardized view of package itinerary options across multiple source systems, including SW1 and SW2. This model is used to consolidate and harmonize data from these systems, providing a single source of truth for downstream analytics and reporting. The data from multiple systems may differ due to variations in data formatting, coding, and update frequencies. This model is critical for key analytical use cases, such as tracking package itinerary options, analyzing component codes and subcodes, and auditing data changes.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - RECORD_ID
            - DATA_SOURCE

    columns:
      - name: PACKAGE_ITIN_OPTION_SURROGATE_KEY
        description: >
          A unique surrogate key generated by combining RECORD_ID and DATA_SOURCE, used to identify each package itinerary option.

      - name: DATA_SOURCE
        description: >
          The source system of the package itinerary option, either SW1 or SW2.

      - name: RECORD_ID
        description: >
          A unique identifier for the package itinerary option within the source system.
        tests:
          - not_null

      - name: ITIN_RECORD_ID
        description: >
          The identifier of the itinerary record associated with the package itinerary option.

      - name: COMPONENT_CODE
        description: >
          A code representing the component of the package itinerary option.

      - name: COMPONENT_SUBCODE1
        description: >
          A subcode representing additional details about the component of the package itinerary option.

      - name: COMPONENT_SUBCODE2
        description: >
          Another subcode representing additional details about the component of the package itinerary option.

      - name: COMPONENT_SUBCODE3
        description: >
          A third subcode representing additional details about the component of the package itinerary option.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the package itinerary option was last updated in the source system.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the package itinerary option has been deleted in the source system.