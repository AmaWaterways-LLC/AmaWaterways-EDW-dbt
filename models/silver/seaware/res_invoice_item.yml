models:
- name: res_invoice_item
  description: 'This model represents a standardized view of invoice items across
    multiple systems,  allowing for consistent analytics and reporting. Data from
    different systems may differ  due to variations in data entry, formatting, or
    system-specific fields. This model  provides a unified view of invoice items,
    facilitating key analytical use cases such  as revenue tracking, expense analysis,
    and auditability.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RES_INVOICE_ITEM_ID
      - DATA_SOURCE
      

  columns:
  - name: RES_INVOICE_ITEM_SURROGATE_KEY
    description: 'A unique identifier for each invoice item, generated by combining
      the  RES_INVOICE_ITEM_ID and DATA_SOURCE columns. This key ensures row uniqueness  across
      multiple systems.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the invoice item data originated, either
      ''SW1'' or ''SW2''.

      '
  - name: RES_INVOICE_ITEM_ID
    description: 'A unique identifier for the invoice item within its source system.
      This column,  combined with DATA_SOURCE, forms the primary key for this model.

      '
    tests:
    - not_null
  - name: RES_ID
    description: 'The identifier for the reservation associated with this invoice
      item.

      '
  - name: GUEST_ID
    description: 'The identifier for the guest associated with this invoice item.

      '
  - name: RES_PACKAGE_ID
    description: 'The identifier for the package associated with this invoice item.

      '
  - name: INVOICE_ITEM_TYPE
    description: 'The type of invoice item, such as a room charge or food and beverage
      expense.

      '
  - name: PRICE_PER_UNIT
    description: 'The price per unit of the invoice item.

      '
  - name: N_OF_UNITS
    description: 'The number of units of the invoice item.

      '
  - name: PERCENT
    description: 'The percentage associated with the invoice item, if applicable.

      '
  - name: AMOUNT
    description: 'The total amount of the invoice item.

      '
  - name: INVOICE_ITEM_SUBTYPE
    description: 'A subtype classification for the invoice item.

      '
  - name: INVOICE_ITEM_SUBTYPE2
    description: 'An additional subtype classification for the invoice item.

      '
  - name: INVOICE_ITEM_SUBTYPE3
    description: 'A further subtype classification for the invoice item.

      '
  - name: PRICE_PROGRAM
    description: 'The price program associated with the invoice item.

      '
  - name: HOTEL_REQUEST_ID
    description: 'The identifier for the hotel request associated with this invoice
      item.

      '
  - name: COMMISSION_PERCENT
    description: 'The commission percentage associated with the invoice item.

      '
  - name: PRICE_AREA
    description: 'The price area associated with the invoice item, if applicable.

      '
  - name: EXTENDED_INFO
    description: 'Additional information about the invoice item, if available.

      '
  - name: ADJUSTMENT_ORIGIN
    description: 'The origin of any adjustments made to the invoice item.

      '
  - name: RES_PRODUCT_ID
    description: 'The identifier for the product associated with this invoice item.

      '
  - name: CLIENT_ID
    description: 'The identifier for the client associated with this invoice item.

      '
  - name: GUEST_SEQN
    description: 'The sequence number for the guest associated with this invoice item.

      '
  - name: POINTS_BALANCE_ID
    description: 'The identifier for the points balance associated with this invoice
      item.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the invoice item was last updated.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the invoice item has been deleted in the
      source system.
