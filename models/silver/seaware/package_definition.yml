models:
- name: package_definition
  description: 'The package_definition model represents a standardized view of package
    definitions across multiple source systems, including SW1 and SW2. This model
    is used to consolidate and harmonize data from these systems, providing a single
    source of truth for downstream analytics and reporting. The data from multiple
    systems may differ due to variations in data formatting, encoding, and business
    rules. This model is critical for reporting, metrics, and auditability, as it
    provides a unified view of package definitions.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - PACKAGE_ID
      - DATA_SOURCE
      

  columns:
  - name: PACKAGE_DEFINITION_SURROGATE_KEY
    description: 'A unique surrogate key generated by combining PACKAGE_ID and DATA_SOURCE.
      This key ensures row uniqueness across multiple source systems.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the package definition data originates,
      either SW1 or SW2.

      '
  - name: PACKAGE_ID
    description: 'A unique identifier for the package definition, used in conjunction
      with DATA_SOURCE to ensure row uniqueness.

      '
    tests:
    - not_null
  - name: PACKAGE_CODE
    description: 'A code assigned to the package definition, used for identification
      and tracking purposes.

      '
  - name: VACATION_DATE
    description: 'The date associated with the package definition, representing the
      start or effective date of the package.

      '
  - name: PACKAGE_TYPE
    description: 'The type of package definition, categorizing the package based on
      its characteristics or features.

      '
  - name: SAIL_ID
    description: 'A unique identifier for the sail associated with the package definition.

      '
  - name: SEASON_CODE
    description: 'A code representing the season or time period during which the package
      is offered.

      '
  - name: GEOG_AREA_CODE
    description: 'A code representing the geographic area or region associated with
      the package definition.

      '
  - name: IS_ACTIVE
    description: 'A flag indicating whether the package definition is active or inactive.

      '
  - name: COMMENTS
    description: 'Additional comments or notes related to the package definition.

      '
  - name: SORT_SEQN
    description: 'A sequence number used for sorting or ordering package definitions.

      '
  - name: SHOREX_MODE
    description: 'The mode or type of shore excursion associated with the package
      definition.

      '
  - name: SHOREX_TIMING
    description: 'The timing or schedule of the shore excursion associated with the
      package definition.

      '
  - name: INITIAL_STATUS
    description: 'The initial status of the package definition, applicable only to
      SW2 source system.

      '
  - name: ROUTE_CODE
    description: 'A code representing the route or itinerary associated with the package
      definition, applicable only to SW2 source system.

      '
  - name: PACKAGE_NAME
    description: 'The name of the package definition, applicable only to SW2 source
      system.

      '
  - name: SAIL_SEGMENTS
    description: 'The sail segments associated with the package definition, applicable
      only to SW2 source system.

      '
  - name: SAIL_DAYS_OVERRIDE
    description: 'The override value for sail days associated with the package definition,
      applicable only to SW2 source system.

      '
  - name: POINTS_SAIL_SEGMENTS
    description: 'The points associated with sail segments for the package definition,
      applicable only to SW2 source system.

      '
  - name: TOUR_STATUS
    description: 'The status of the tour associated with the package definition, applicable
      only to SW2 source system.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp representing the last update or modification to the
      package definition.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the package definition has been deleted
      in the source system.
