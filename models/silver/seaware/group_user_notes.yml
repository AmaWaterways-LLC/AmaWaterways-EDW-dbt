models:
  - name: group_user_notes
    description: >
      This model represents a standardized view of user notes across multiple systems, 
      providing a unified understanding of user interactions and feedback. 
      Data from different systems may differ due to varying data collection methods or update frequencies. 
      This model is used downstream for reporting, analytics, and auditing purposes, 
      enabling insights into user behavior and sentiment. 
      Key analytical use cases include tracking user engagement, identifying trends in user feedback, 
      and monitoring data quality and consistency across systems.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - RECORD_ID
            - DATA_SOURCE

    columns:
      - name: GROUP_USER_NOTES_SURROGATE_KEY
        description: >
          A unique identifier for each user note, generated by combining RECORD_ID and DATA_SOURCE. 
          This key ensures row uniqueness and facilitates data integration and analysis.

      - name: DATA_SOURCE
        description: >
          The source system from which the user note originated, either 'SW1' or 'SW2'. 
          This column helps track data provenance and identify potential discrepancies between systems.

      - name: RECORD_ID
        description: >
          A unique identifier for the user note within its source system. 
          This column, combined with DATA_SOURCE, forms the primary key for this model.
        tests:
          - not_null

      - name: GROUP_ID
        description: >
          The identifier of the group associated with the user note. 
          This column enables analysis of user interactions within specific groups.

      - name: SUBJECT
        description: >
          The subject or topic of the user note. 
          This column provides context for understanding user feedback and sentiment.

      - name: NOTES
        description: >
          The content of the user note. 
          This column contains valuable information about user interactions and feedback.

      - name: TIME_STAMP_CREATED
        description: >
          The timestamp when the user note was created. 
          This column helps track the timing and sequence of user interactions.

      - name: TIME_STAMP_CHANGED
        description: >
          The timestamp when the user note was last updated or modified. 
          This column helps monitor changes to user notes over time.

      - name: USER_ID
        description: >
          The identifier of the user who created the note. 
          This column enables analysis of user behavior and activity.

      - name: ATTACHMENT_ID
        description: >
          The identifier of any attachment associated with the user note, if applicable. 
          This column provides additional context for understanding user interactions.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the user note was last synced or updated in the source system. 
          This column helps track data freshness and identify potential data quality issues.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the user note has been deleted in the source system. 
          This column helps monitor data consistency and identify potential data quality issues.