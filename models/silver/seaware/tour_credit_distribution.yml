models:
- name: tour_credit_distribution
  description: 'This model represents the standardized tour credit distribution data
    from multiple systems,  providing a unified view for downstream analytics and
    reporting. The data from different  systems may differ due to variations in data
    collection and processing. This model is used  to track and analyze tour credit
    distributions, enabling key business insights and metrics.  It also facilitates
    auditability and data quality checks.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RECORD_ID
      - DATA_SOURCE
      where: "SOURCE_DELETED = false"

  columns:
  - name: TOUR_CREDIT_DISTRIBUTION_SURROGATE_KEY
    description: 'A unique identifier for each tour credit distribution record, generated
      by combining  RECORD_ID and DATA_SOURCE. This column ensures row uniqueness
      and facilitates data  integration and analysis.

      '
  - name: DATA_SOURCE
    description: 'The source system of the tour credit distribution data, either ''SW1''
      or ''SW2''. This  column helps track data origin and potential discrepancies
      between systems.

      '
    tests:
    - not_null
  - name: RECORD_ID
    description: 'A unique identifier for each tour credit distribution record within
      its source system.  This column, combined with DATA_SOURCE, ensures row uniqueness
      and facilitates data  integration and analysis.

      '
    tests:
    - not_null
  - name: DISTR_TYPE
    description: 'The type of tour credit distribution, providing context for the
      record''s purpose and  relevance in business analytics.

      '
  - name: REQ_AMOUNT
    description: 'The requested amount for the tour credit distribution, a key metric
      for financial  analysis and planning.

      '
  - name: APPL_AMOUNT
    description: 'The applied amount for the tour credit distribution, a key metric
      for financial  analysis and planning.

      '
  - name: COMMISS_CODE
    description: 'The commission code associated with the tour credit distribution,
      providing context  for revenue tracking and analysis.

      '
  - name: TRANS_ID
    description: 'The transaction ID related to the tour credit distribution, facilitating
      the tracking  of financial transactions and auditability.

      '
  - name: ENTITY_TYPE
    description: 'The type of entity involved in the tour credit distribution, providing
      context for  business analytics and reporting.

      '
  - name: ENTITY_ID
    description: 'The ID of the entity involved in the tour credit distribution, facilitating
      the  tracking of entity-specific data and analysis.

      '
  - name: GUEST_ID
    description: 'The ID of the guest associated with the tour credit distribution,
      facilitating the  tracking of guest-specific data and analysis.

      '
  - name: TOUR_CREDIT_ID
    description: 'The ID of the tour credit associated with the distribution, facilitating
      the tracking  of tour credit-specific data and analysis.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp of the last update to the tour credit distribution
      record, providing  context for data freshness and auditability.

      '
  - name: SOURCE_DELETED
    description: 'A flag indicating whether the tour credit distribution record has
      been deleted in  the source system, facilitating data quality checks and auditability.

      '
  - name: TIMESTAMP
    description: 'The timestamp of the tour credit distribution record, providing
      context for data  freshness and auditability.

      '
  - name: USER_ID
    description: The ID of the user associated with the tour credit distribution,
      facilitating the  tracking of user-specific data and analysis.
