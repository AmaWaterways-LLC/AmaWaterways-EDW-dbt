models:
- name: package_selling_limit
  description: 'This model represents the standardized package selling limit data
    from multiple systems, SW1 and SW2.  The data from these systems may differ due
    to variations in data collection and processing methods.  This model is used downstream
    to provide a unified view of package selling limits, enabling accurate reporting
    and analytics.  Key analytical use cases include tracking selling limits, monitoring
    warnings and waitlists, and analyzing sales performance.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RECORD_ID
      - DATA_SOURCE
      where: "SOURCE_DELETED = false"

  columns:
  - name: PACKAGE_SELLING_LIMIT_SURROGATE_KEY
    description: 'A unique identifier for each package selling limit record, generated
      by combining RECORD_ID and DATA_SOURCE.

      '
  - name: DATA_SOURCE
    description: 'The source system of the package selling limit data, either SW1
      or SW2.

      '
  - name: RECORD_ID
    description: 'A unique identifier for each package selling limit record within
      its source system.

      '
    tests:
    - not_null
  - name: IS_SELL_STOPPED
    description: 'A flag indicating whether selling is stopped for the package.

      '
  - name: WARNING_LIMIT_ABS
    description: 'The absolute warning limit for the package.

      '
  - name: WARNING_LIMIT_WGT
    description: 'The weighted warning limit for the package.

      '
  - name: SELLING_LIMIT_ABS
    description: 'The absolute selling limit for the package.

      '
  - name: SELLING_LIMIT_WGT
    description: 'The weighted selling limit for the package.

      '
  - name: WAITLIST_LIMIT_ABS
    description: 'The absolute waitlist limit for the package.

      '
  - name: WAITLIST_LIMIT_WGT
    description: 'The weighted waitlist limit for the package.

      '
  - name: SELL_STOP_TIMESTAMP
    description: 'The timestamp when selling was stopped for the package.

      '
  - name: IS_WTL_PROCESSED
    description: 'A flag indicating whether the package has been processed by WTL.

      '
  - name: IS_VALIDATION
    description: 'A flag indicating whether the package requires validation.

      '
  - name: SEVERITY
    description: 'The severity level of the package selling limit.

      '
  - name: ON_STORE_ONLY
    description: 'A flag indicating whether the package is only available in-store.

      '
  - name: BLOCK_AVAILABILITY
    description: 'A flag indicating whether the package availability is blocked.

      '
  - name: ROWTYPE_ORIGIN
    description: 'The origin of the row type for the package selling limit.

      '
  - name: COUNT_OBJECT_TYPE
    description: 'The type of object being counted for the package selling limit.

      '
  - name: TOLERANCE_PERCENT
    description: 'The tolerance percentage for the package selling limit.

      '
  - name: NOTIFICATION_EMAIL
    description: 'The email address for notifications related to the package selling
      limit.

      '
  - name: RECURR_BASE
    description: 'The base for recurring package selling limits.

      '
  - name: MESSAGE_ID
    description: 'The ID of the message related to the package selling limit.

      '
  - name: CALC_MODE
    description: 'The calculation mode for the package selling limit.

      '
  - name: FORCE_COUNT
    description: 'A flag indicating whether to force the count for the package selling
      limit.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the package selling limit was last updated.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the package selling limit was deleted in
      the source system.
