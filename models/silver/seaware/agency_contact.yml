models:
  - name: agency_contact
    description: >
      The agency_contact model represents a standardized view of agency contact information 
      sourced from multiple systems, including SW1 and SW2. Data from these systems may differ 
      due to variations in data entry, update frequencies, or system-specific nuances. This model 
      provides a unified and reliable source for downstream analytics and reporting, enabling 
      insights into agency contact trends, agent performance, and data quality. Key analytical 
      use cases include tracking agency contact changes, monitoring data synchronization, and 
      auditing data completeness.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - AGENCY_CONTACT_ID
            - DATA_SOURCE

    columns:
      - name: AGENCY_CONTACT_SURROGATE_KEY
        description: >
          A unique identifier generated by combining AGENCY_CONTACT_ID and DATA_SOURCE, 
          ensuring row uniqueness across multiple data sources.

      - name: DATA_SOURCE
        description: >
          The source system of the agency contact data, either SW1 or SW2, indicating 
          the origin of the information.

      - name: AGENCY_CONTACT_ID
        description: >
          A unique identifier for the agency contact, used in conjunction with DATA_SOURCE 
          to ensure row uniqueness. This column plays a crucial role in identifying specific 
          agency contacts and tracking changes over time.
        tests:
          - not_null

      - name: AGENCY_ID
        description: >
          The identifier of the agency associated with the contact, providing a link to 
          agency-specific information and enabling analysis of agency-level trends.

      - name: AGENT_ID
        description: >
          The identifier of the agent associated with the contact, allowing for analysis 
          of agent performance and contact-level trends.

      - name: DATE_FROM
        description: >
          The start date of the agency contact's validity period, used to track changes 
          in contact information over time.

      - name: DATE_TO
        description: >
          The end date of the agency contact's validity period, indicating when the 
          contact information is no longer valid.

      - name: POSITION
        description: >
          The position or role of the agency contact, providing context for the contact's 
          responsibilities and areas of expertise.

      - name: COMMENTS
        description: >
          Additional comments or notes related to the agency contact, offering further 
          insight into the contact's context and relevance.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp of the last update to the agency contact information, used to 
          track data freshness and synchronization.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the agency contact has been deleted in the source 
          system, allowing for tracking of data removals and updates.