models:
  - name: res_addon
    description: >
      The res_addon model represents a standardized view of reservation add-ons across multiple systems, 
      including SW1 and SW2. This model is used to consolidate and harmonize data from these systems, 
      providing a unified understanding of add-ons and their associated metadata. 
      The data from multiple systems may differ due to variations in data collection, storage, and processing. 
      This model is used downstream for reporting, analytics, and auditability purposes.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - RES_ADDON_ID
            - DATA_SOURCE

    columns:
      - name: RES_ADDON_SURROGATE_KEY
        description: >
          A unique surrogate key generated by combining RES_ADDON_ID and DATA_SOURCE, 
          used to uniquely identify each reservation add-on record.

      - name: DATA_SOURCE
        description: >
          The source system from which the reservation add-on data originated, 
          either SW1 or SW2.

      - name: RES_ADDON_ID
        description: >
          The unique identifier for the reservation add-on, used in combination with DATA_SOURCE 
          to uniquely identify each record.
        tests:
          - not_null

      - name: GUEST_ID
        description: >
          The unique identifier for the guest associated with the reservation add-on.

      - name: RES_ID
        description: >
          The unique identifier for the reservation associated with the add-on.

      - name: RES_ADDON_CODE
        description: >
          The code or identifier for the specific add-on.

      - name: START_DATE
        description: >
          The start date of the add-on.

      - name: END_DATE
        description: >
          The end date of the add-on.

      - name: EFFECTIVE_DATE
        description: >
          The effective date of the add-on.

      - name: IS_DEFAULT
        description: >
          A flag indicating whether the add-on is default or not.

      - name: PAP_CODE
        description: >
          The code or identifier for the PAP (Product and Package) associated with the add-on.

      - name: DELIVERY_PLACE
        description: >
          The location where the add-on is delivered.

      - name: QUANTITY
        description: >
          The quantity of the add-on.

      - name: IS_AUTO
        description: >
          A flag indicating whether the add-on is automatically applied or not.

      - name: AMENITY_SUBCODE
        description: >
          The subcode or identifier for the amenity associated with the add-on.

      - name: COMMENTS
        description: >
          Any additional comments or notes associated with the add-on.

      - name: DELIVERY_PLACE_DETAIL
        description: >
          Additional details about the delivery location.

      - name: HOTEL_ROOM_REQUEST_ID
        description: >
          The unique identifier for the hotel room request associated with the add-on.

      - name: SHIPROOM_REQUEST_ID
        description: >
          The unique identifier for the shiproom request associated with the add-on.

      - name: DINING_REQUEST_ID
        description: >
          The unique identifier for the dining request associated with the add-on.

      - name: LINK_FROM_REQUEST
        description: >
          A link or reference to the original request associated with the add-on.

      - name: ATTACHMENT_ID
        description: >
          The unique identifier for any attachments associated with the add-on.

      - name: ADDON_STATUS
        description: >
          The status of the add-on.

      - name: PARENT_DESCR
        description: >
          A description of the parent entity associated with the add-on.

      - name: ADDON_PRICE_CODE
        description: >
          The code or identifier for the price associated with the add-on.

      - name: PAID_DATE
        description: >
          The date the add-on was paid for.

      - name: LINK_DESCRIPTION
        description: >
          A description of the link or reference associated with the add-on.

      - name: NOTES
        description: >
          Any additional notes or comments associated with the add-on.

      - name: MANDATORY_GROUP
        description: >
          A flag indicating whether the add-on is part of a mandatory group or not.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the add-on record was last updated.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the add-on record has been deleted in the source system.

      - name: RES_PACKAGE_ID
        description: >
          The unique identifier for the reservation package associated with the add-on.

      - name: AM_ORDER_ID
        description: >
          The unique identifier for the amenity order associated with the add-on.

      - name: AMENITY_CODE
        description: >
          The code or identifier for the amenity associated with the add-on.