models:
- name: res_package
  description: 'This model represents a standardized view of reservation packages
    across multiple systems,  allowing for consistent analysis and reporting. Data
    from different systems may differ due  to variations in data capture and storage.
    This model is used downstream for reporting,  metrics, and auditability, providing
    insights into package utilization, revenue, and customer behavior.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RES_PACKAGE_ID
      - DATA_SOURCE
      

  columns:
  - name: RES_PACKAGE_SURROGATE_KEY
    description: 'A unique identifier for each reservation package, generated by combining
      RES_PACKAGE_ID and DATA_SOURCE.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the reservation package data originated,
      either SW1 or SW2.

      '
  - name: RES_PACKAGE_ID
    description: 'The unique identifier for the reservation package in the source
      system. This column,  combined with DATA_SOURCE, ensures row uniqueness.

      '
    tests:
    - not_null
  - name: START_DATE
    description: 'The start date of the reservation package.

      '
  - name: END_DATE
    description: 'The end date of the reservation package.

      '
  - name: EFFECTIVE_DATE
    description: 'The effective date of the reservation package.

      '
  - name: RES_ID
    description: 'The unique identifier for the reservation associated with the package.

      '
  - name: GUEST_ID
    description: 'The unique identifier for the guest associated with the package.

      '
  - name: PACKAGE_TYPE
    description: 'The type of package, e.g., hotel, flight, etc.

      '
  - name: PACKAGE_ID
    description: 'The unique identifier for the package.

      '
  - name: IS_PRICEABLE
    description: 'A flag indicating whether the package is priceable or not.

      '
  - name: DEP_REF_ID
    description: 'The departure reference ID associated with the package.

      '
  - name: ARR_REF_ID
    description: 'The arrival reference ID associated with the package.

      '
  - name: SHIP_CODE
    description: 'The ship code associated with the package.

      '
  - name: CABIN_CATEGORY
    description: 'The cabin category associated with the package.

      '
  - name: CABIN_CATEGORY_BERTH
    description: 'The cabin category berth associated with the package.

      '
  - name: CABIN_SEQ_NUMBERS
    description: 'The cabin sequence numbers associated with the package.

      '
  - name: PACKAGE_CLASS
    description: 'The class of the package.

      '
  - name: HOTEL_REQUEST_ID
    description: 'The hotel request ID associated with the package.

      '
  - name: RES_ADDON_ID
    description: 'The reservation add-on ID associated with the package.

      '
  - name: DINING_REQUEST_ID
    description: 'The dining request ID associated with the package.

      '
  - name: CAR_REQ_LEG_ID
    description: 'The car request leg ID associated with the package.

      '
  - name: SHIPROOM_REQUEST_ID
    description: 'The shiproom request ID associated with the package.

      '
  - name: PACKAGE_STATUS
    description: 'The status of the package.

      '
  - name: PPS_CARD_OWNER_ID
    description: 'The PPS card owner ID associated with the package.

      '
  - name: COMMENT_ID
    description: 'The comment ID associated with the package.

      '
  - name: IS_NO_SHOW
    description: 'A flag indicating whether the package is a no-show or not.

      '
  - name: CAB_CTG_UPG_PROMO
    description: 'The cabin category upgrade promotion associated with the package.

      '
  - name: PLACE_COUNT
    description: 'The number of places associated with the package.

      '
  - name: PARENT_GUEST_ID
    description: 'The parent guest ID associated with the package.

      '
  - name: SRC_PACKAGE_ID
    description: 'The source package ID associated with the package.

      '
  - name: SRC_DEP_REF_ID
    description: 'The source departure reference ID associated with the package.

      '
  - name: SRC_PACKAGE_CLASS
    description: 'The source package class associated with the package.

      '
  - name: SRC_ARR_REF_ID
    description: 'The source arrival reference ID associated with the package.

      '
  - name: SRC_LINK_DESCRIPTION
    description: 'The source link description associated with the package.

      '
  - name: RES_PRODUCT_ID
    description: 'The reservation product ID associated with the package.

      '
  - name: PLACE_COUNT_RESERVED
    description: 'The number of reserved places associated with the package.

      '
  - name: SOURCE_CODE
    description: 'The source code associated with the package.

      '
  - name: AIR_PRODUCT_ID
    description: 'The air product ID associated with the package.

      '
  - name: TRANSFER_REQUEST_ID
    description: 'The transfer request ID associated with the package.

      '
  - name: EXTRA_GUEST_COUNT
    description: 'The number of extra guests associated with the package.

      '
  - name: RES_TOUR_ITEM_ID
    description: 'The reservation tour item ID associated with the package.

      '
  - name: EXT_COMP_ID
    description: 'The external company ID associated with the package.

      '
  - name: SELL_LIM_INV_RESULT
    description: 'The sell limit inventory result associated with the package.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the package was last updated.

      '
  - name: SOURCE_DELETED
    description: 'A flag indicating whether the package has been deleted in the source
      system.

      '
  - name: NEEDS_EXTRA_SEAT
    description: A flag indicating whether the package requires an extra seat or not.
