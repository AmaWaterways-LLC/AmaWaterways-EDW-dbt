models:
- name: group_invoice_item
  description: 'The group_invoice_item model represents a standardized view of invoice
    items across multiple systems.  Data from different systems may differ due to
    variations in data capture, processing, or storage.  This model is used downstream
    for reporting, analytics, and auditability, providing a unified understanding
    of invoice items.  Key analytical use cases include analyzing revenue streams,
    identifying trends in invoice item types, and ensuring data consistency across
    systems.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RECORD_ID
      - DATA_SOURCE
      

  columns:
  - name: GROUP_INVOICE_ITEM_SURROGATE_KEY
    description: 'A unique identifier for each invoice item, generated by combining
      RECORD_ID and DATA_SOURCE.  This key ensures that each invoice item is uniquely
      represented across different systems.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the invoice item data originates.  This
      column helps identify data discrepancies and variations across systems.

      '
    tests:
    - not_null
  - name: RECORD_ID
    description: 'A unique identifier for the invoice item within its source system.  This
      column, combined with DATA_SOURCE, forms the unique key for the invoice item.

      '
    tests:
    - not_null
  - name: GROUP_ID
    description: 'The identifier for the group associated with the invoice item.  This
      column helps analyze group-level trends and patterns in invoice items.

      '
  - name: REC_SEQN
    description: 'The sequence number of the invoice item within its group.  This
      column provides additional context for analyzing invoice item data.

      '
  - name: INVOICE_ITEM_TYPE
    description: 'The type of invoice item, such as a product or service.  This column
      is crucial for categorizing and analyzing invoice items.

      '
  - name: INVOICE_ITEM_SUBTYPE
    description: 'A more specific categorization of the invoice item within its type.  This
      column provides further granularity for analyzing invoice item data.

      '
  - name: QUANTITY
    description: 'The number of units of the invoice item.  This column is essential
      for calculating revenue and analyzing sales trends.

      '
  - name: EFF_DATE
    description: 'The effective date of the invoice item.  This column helps track
      changes to invoice items over time.

      '
  - name: AMOUNT
    description: 'The monetary amount associated with the invoice item.  This column
      is critical for financial analysis and reporting.

      '
  - name: TOTAL_AMOUNT
    description: 'The total monetary amount associated with the invoice item, including
      any additional charges or fees.  This column provides a comprehensive view of
      invoice item revenue.

      '
  - name: INVOICE_ITEM_SUBTYPE2
    description: 'An additional subtype categorization for the invoice item.  This
      column provides further granularity for analyzing invoice item data.

      '
  - name: INVOICE_ITEM_SUBTYPE3
    description: 'Another additional subtype categorization for the invoice item.  This
      column provides even more granularity for analyzing invoice item data.

      '
  - name: IS_MANUAL_ADJUSTMENT
    description: 'A flag indicating whether the invoice item is a manual adjustment.  This
      column helps identify manual changes to invoice items.

      '
  - name: PROMO_CODE
    description: 'The promotional code associated with the invoice item.  This column
      helps track the effectiveness of promotional campaigns.

      '
  - name: GROUP_SHIP_REQ_ID
    description: 'The identifier for the group ship request associated with the invoice
      item.  This column provides additional context for analyzing invoice item data.

      '
  - name: GROUP_HOTEL_REQ_ID
    description: 'The identifier for the group hotel request associated with the invoice
      item.  This column provides additional context for analyzing invoice item data.

      '
  - name: GROUP_PACKAGE_ID
    description: 'The identifier for the group package associated with the invoice
      item.  This column helps analyze package-level trends and patterns in invoice
      items.

      '
  - name: PACKAGE_ID
    description: 'The identifier for the package associated with the invoice item.  This
      column provides additional context for analyzing invoice item data.

      '
  - name: COMMISSION_PERCENT
    description: 'The commission percentage associated with the invoice item.  This
      column is critical for calculating revenue and analyzing sales trends.

      '
  - name: DUMMY_RES_SEQN
    description: 'A dummy reservation sequence number associated with the invoice
      item.  This column provides additional context for analyzing invoice item data.

      '
  - name: GUEST_SEQN
    description: 'The sequence number of the guest associated with the invoice item.  This
      column helps analyze guest-level trends and patterns in invoice items.

      '
  - name: PRICE_AREA
    description: 'The price area associated with the invoice item.  This column provides
      additional context for analyzing invoice item data.

      '
  - name: EXTENDED_INFO
    description: 'Additional information associated with the invoice item.  This column
      provides further context for analyzing invoice item data.

      '
  - name: GROUP_AMENITY_REQ_ID
    description: 'The identifier for the group amenity request associated with the
      invoice item.  This column provides additional context for analyzing invoice
      item data.

      '
  - name: GROUP_CARDECK_LEG_ID
    description: 'The identifier for the group car deck leg associated with the invoice
      item.  This column provides additional context for analyzing invoice item data.

      '
  - name: GROUP_DINING_REQ_ID
    description: 'The identifier for the group dining request associated with the
      invoice item.  This column provides additional context for analyzing invoice
      item data.

      '
  - name: GROUP_SHIP_ROOM_REQ_ID
    description: 'The identifier for the group ship room request associated with the
      invoice item.  This column provides additional context for analyzing invoice
      item data.

      '
  - name: PERCENT
    description: 'The percentage associated with the invoice item.  This column is
      critical for calculating revenue and analyzing sales trends.

      '
  - name: N_OF_UNITS
    description: 'The number of units associated with the invoice item.  This column
      is essential for calculating revenue and analyzing sales trends.

      '
  - name: PRICE_PER_UNIT
    description: 'The price per unit associated with the invoice item.  This column
      is critical for calculating revenue and analyzing sales trends.

      '
  - name: TOTAL_N_OF_UNITS
    description: 'The total number of units associated with the invoice item.  This
      column provides a comprehensive view of invoice item revenue.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the invoice item was last updated.  This column
      helps track changes to invoice items over time.

      '
  - name: SOURCE_DELETED
    description: 'A flag indicating whether the invoice item has been deleted in the
      source system.  This column helps identify deleted invoice items.

      '
  - name: BROCHURE_PRICE
    description: 'The brochure price associated with the invoice item.  This column
      provides additional context for analyzing invoice item data.

      '
  - name: EBD_PRICE
    description: 'The EBD price associated with the invoice item.  This column provides
      additional context for analyzing invoice item data.

      '
  - name: GROUP_PRICE
    description: 'The group price associated with the invoice item.  This column helps
      analyze group-level trends and patterns in invoice items.

      '
  - name: TOTAL_PRICE
    description: 'The total price associated with the invoice item.  This column provides
      a comprehensive view of invoice item revenue.

      '
  - name: GROUP_AIR_REQ_ID
    description: The identifier for the group air request associated with the invoice
      item.  This column provides additional context for analyzing invoice item data.
