models:
  - name: group_ship_request
    description: >
      This model represents a standardized view of group ship requests across multiple systems, 
      providing a unified understanding of cabin category, occupancy, and other relevant details. 
      Data from different systems may differ due to varying data entry practices or system-specific 
      nuances. This model is used downstream for reporting, metrics, and auditability purposes, 
      enabling stakeholders to analyze and make informed decisions about group ship requests.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - RECORD_ID
            - DATA_SOURCE

    columns:
      - name: GROUP_SHIP_REQUEST_SURROGATE_KEY
        description: >
          A unique identifier for each group ship request, generated by combining RECORD_ID and DATA_SOURCE.
          This column ensures row uniqueness and facilitates data analysis.

      - name: DATA_SOURCE
        description: >
          The source system from which the group ship request data originates, either 'SW1' or 'SW2'.
          This column helps identify data discrepancies and system-specific nuances.

        tests:
          - not_null

      - name: RECORD_ID
        description: >
          A unique identifier for each group ship request within its respective source system.
          This column, combined with DATA_SOURCE, ensures row uniqueness.

        tests:
          - not_null

      - name: CABIN_CATEGORY
        description: >
          The category of cabin associated with the group ship request, such as 'Suite' or 'Balcony'.
          This column is used for reporting and analytics purposes.

      - name: OCCUPANCY
        description: >
          The number of occupants associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: QUANTITY
        description: >
          The quantity of cabins or rooms associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: PRODUCT_TYPE
        description: >
          The type of product associated with the group ship request, such as 'Cruise' or 'Hotel'.
          This column is used for reporting and analytics purposes.

      - name: CABIN_CATEGORY_BERTH
        description: >
          The berth category associated with the group ship request, such as 'Single' or 'Double'.
          This column is used for reporting and analytics purposes.

      - name: PACKAGE_TYPE
        description: >
          The type of package associated with the group ship request, such as 'Basic' or 'Deluxe'.
          This column is used for reporting and analytics purposes.

      - name: SHIP_CODE
        description: >
          The code associated with the ship, used for identification purposes.
          This column is used for reporting and analytics purposes.

      - name: GROUP_ID
        description: >
          The identifier for the group associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: EFFECTIVE_DATE
        description: >
          The date when the group ship request becomes effective.
          This column is used for reporting and analytics purposes.

      - name: PACKAGE_ID
        description: >
          The identifier for the package associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: ROLLAWAY_BEDS_REQUESTED
        description: >
          A flag indicating whether rollaway beds have been requested for the group ship request.
          This column is used for reporting and analytics purposes.

      - name: REPORTED_AS_SOLD
        description: >
          A flag indicating whether the group ship request has been reported as sold.
          This column is used for reporting and analytics purposes.

      - name: MAX_CABIN_OCCUPANCY
        description: >
          The maximum occupancy allowed for the cabin associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: RESERVE_TYPE
        description: >
          The type of reservation associated with the group ship request, such as 'Guaranteed' or 'Tentative'.
          This column is used for reporting and analytics purposes.

      - name: GENDER
        description: >
          The gender associated with the group ship request, such as 'Male' or 'Female'.
          This column is used for reporting and analytics purposes.

      - name: CHILD_OCCUPANCY
        description: >
          The number of children occupying the cabin associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: DEP_REF_ID
        description: >
          The departure reference identifier associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: ARR_REF_ID
        description: >
          The arrival reference identifier associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: ALLOTMENT_AGREEMENT_ID
        description: >
          The allotment agreement identifier associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: TOUR_PACKAGE_ID
        description: >
          The tour package identifier associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: TOUR_PACKAGE_ITIN_ID
        description: >
          The tour package itinerary identifier associated with the group ship request.
          This column is used for reporting and analytics purposes.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the group ship request was last updated.
          This column is used for auditing and data freshness purposes.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the group ship request has been deleted in the source system.
          This column is used for auditing and data freshness purposes.