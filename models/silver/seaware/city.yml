models:
- name: city
  description: 'The city model represents a standardized view of city data from multiple
    source systems, SW1 and SW2.  Data from these systems may differ due to variations
    in data collection, processing, and storage.  This model is used downstream for
    reporting, analytics, and data integration, providing a unified understanding
    of city information.  Key analytical use cases include analyzing city demographics,
    geographic distribution, and data quality.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - CITY_CODE
      - DATA_SOURCE
      where: "SOURCE_DELETED = false"

  columns:
  - name: CITY_SURROGATE_KEY
    description: 'A unique identifier for each city, generated by combining CITY_CODE
      and DATA_SOURCE.  This key ensures row uniqueness and facilitates data integration.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the city data originates, either SW1
      or SW2.  This column is used to track data provenance and manage data integration.

      '
  - name: CITY_ID
    description: 'A numeric identifier for the city, as represented in the source
      system.  This column is used for data analysis and reporting.

      '
  - name: CITY_CODE
    description: 'A string code representing the city, used for identification and
      data integration.  This column, combined with DATA_SOURCE, forms the primary
      key.

      '
    tests:
    - not_null
  - name: CITY_NAME
    description: 'The name of the city, as represented in the source system.  This
      column is used for data analysis, reporting, and data visualization.

      '
  - name: COUNTRY_CODE
    description: 'A string code representing the country in which the city is located.  This
      column is used for data analysis, reporting, and geographic analysis.

      '
  - name: STATE_CODE
    description: 'A string code representing the state or region in which the city
      is located.  This column is used for data analysis, reporting, and geographic
      analysis.

      '
  - name: COMMENTS
    description: 'Additional comments or notes about the city, as represented in the
      source system.  This column is used for data analysis and reporting.

      '
  - name: TIMEZONE
    description: 'The time zone in which the city is located, as represented in the
      source system.  This column is used for data analysis, reporting, and scheduling.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the city data was last updated in the source
      system.  This column is used for data freshness analysis and data quality monitoring.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the city data has been deleted in the source
      system.  This column is used for data quality monitoring and data integration.
