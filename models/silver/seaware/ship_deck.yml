models:
- name: ship_deck
  description: 'The ship_deck model represents a standardized view of ship deck data
    from multiple source systems, including SW1 and SW2.  Data from these systems
    may differ due to variations in data collection and processing methods.  This
    model is used downstream to provide a unified view of ship deck information for
    reporting, analytics, and auditability purposes.  Key analytical use cases include
    analyzing deck usage patterns, tracking changes to deck configurations, and monitoring
    data quality across source systems.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - DECK_NUMBER
      - SHIP_CODE
      - DATA_SOURCE
      where: "SOURCE_DELETED = false"

  columns:
  - name: SHIP_DECK_SURROGATE_KEY
    description: 'A unique identifier for each ship deck record, generated by combining
      the deck number, ship code, and data source.  This key ensures that each record
      is uniquely identifiable across source systems.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the ship deck data was obtained, either
      SW1 or SW2.  This column is used to track data provenance and identify potential
      discrepancies between source systems.

      '
  - name: SHIP_CODE
    description: 'A unique identifier for the ship to which the deck belongs.  This
      column is used to link ship deck data to other ship-related data.

      '
  - name: DECK_NUMBER
    description: 'A unique identifier for the deck within the ship.  This column is
      used to track deck-specific information and changes.

      '
  - name: DECK_ID
    description: 'A numeric identifier for the deck, used for analytical and reporting
      purposes.

      '
  - name: DECK_NAME
    description: 'The name of the deck, used for descriptive and reporting purposes.

      '
  - name: IS_DECK_PAX
    description: 'A flag indicating whether the deck is a passenger deck (PAX) or
      not.  This column is used to analyze deck usage patterns and track changes to
      deck configurations.

      '
  - name: IMAGE_ID
    description: 'A numeric identifier for the image associated with the deck, used
      for analytical and reporting purposes.

      '
  - name: DECK_CODE
    description: 'A code representing the deck''s configuration or type, used for
      analytical and reporting purposes.

      '
  - name: LAYOUT_IMAGE_ID
    description: 'A numeric identifier for the layout image associated with the deck,
      used for analytical and reporting purposes.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the ship deck data was last updated in the source
      system.  This column is used to track data freshness and identify potential
      discrepancies between source systems.

      '
  - name: SOURCE_DELETED
    description: 'A flag indicating whether the ship deck record has been deleted
      in the source system.  This column is used to track data provenance and identify
      potential discrepancies between source systems.

      '
  - name: DECK_NUMBER
    tests:
    - not_null
  - name: SHIP_CODE
    tests:
    - not_null
  - name: DATA_SOURCE
    tests:
    - not_null
