models:
  - name: agency_communication
    description: >
      This model represents standardized agency communication data from multiple source systems (SW1 and SW2). 
      Data from these systems may differ due to variations in data collection, processing, and storage. 
      This model is used downstream for reporting, analytics, and auditability, providing a unified view of agency communication activities. 
      Key analytical use cases include tracking communication trends, measuring campaign effectiveness, and monitoring contact outcomes.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - RECORD_ID
            - DATA_SOURCE

    columns:
      - name: AGENCY_COMMUNICATION_SURROGATE_KEY
        description: >
          A unique identifier for each agency communication record, generated by combining RECORD_ID and DATA_SOURCE. 
          This key ensures row uniqueness and facilitates data integration and analysis.

      - name: DATA_SOURCE
        description: >
          The source system from which the agency communication data originated (SW1 or SW2). 
          This column is used to track data provenance and manage data integration.

        tests:
          - not_null

      - name: RECORD_ID
        description: >
          A unique identifier for each agency communication record within its source system. 
          This column, combined with DATA_SOURCE, forms the primary key for this model.

        tests:
          - not_null

      - name: AGENCY_ID
        description: >
          The identifier of the agency involved in the communication. 
          This column is used to analyze agency-specific communication trends and outcomes.

      - name: INITIATED_BY
        description: >
          The individual or entity that initiated the communication. 
          This column provides context for understanding communication dynamics and outcomes.

      - name: RES_ID
        description: >
          The identifier of the resource or subject matter related to the communication. 
          This column is used to analyze communication topics and trends.

      - name: CONTACT_DATE
        description: >
          The date on which the communication occurred. 
          This column is used to track communication timelines and analyze temporal trends.

      - name: CONTACT_REASON
        description: >
          The reason or purpose of the communication. 
          This column provides context for understanding communication drivers and outcomes.

      - name: IMAGE_ID
        description: >
          The identifier of an image related to the communication (if applicable). 
          This column is used to analyze visual content associated with communications.

      - name: DESCRIPTION
        description: >
          A text description of the communication. 
          This column provides additional context for understanding communication content and outcomes.

      - name: EXTERNAL_REFERENCE
        description: >
          An external reference or identifier related to the communication (if applicable). 
          This column is used to track external links or associations.

      - name: CAMPAIGN_CODE
        description: >
          The code or identifier of a campaign related to the communication (if applicable). 
          This column is used to analyze campaign effectiveness and communication outcomes.

      - name: ATTACHMENT_ID
        description: >
          The identifier of an attachment related to the communication (if applicable). 
          This column is used to analyze supplementary content associated with communications.

      - name: ASSIGNED_AGENT_ID
        description: >
          The identifier of the agent assigned to the communication (if applicable). 
          This column is used to track agent workload and communication outcomes.

      - name: ASSIGNED_DATE
        description: >
          The date on which the communication was assigned to an agent (if applicable). 
          This column is used to track communication timelines and agent wo