models:
  - name: cabin_category_comments
    description: >
      This model represents standardized cabin category comments from multiple source systems, 
      providing a unified view for analytics and reporting. Data from different systems may differ 
      due to variations in data entry or update frequencies. This model is used downstream to 
      analyze cabin category feedback and inform business decisions. Key analytical use cases 
      include reporting on comment trends, sentiment analysis, and auditability of data changes.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - RECORD_ID
            - DATA_SOURCE

    columns:
      - name: CABIN_CATEGORY_COMMENTS_SURROGATE_KEY
        description: >
          A unique identifier for each cabin category comment, generated by combining RECORD_ID 
          and DATA_SOURCE. This key ensures row uniqueness across multiple source systems.

      - name: DATA_SOURCE
        description: >
          The source system from which the cabin category comment originated, either 'SW1' or 'SW2'. 
          This column is used to track data lineage and identify potential discrepancies between 
          source systems.

      - name: RECORD_ID
        description: >
          A unique identifier for the cabin category comment within its source system. This column, 
          combined with DATA_SOURCE, forms the primary key for this model. It is used to ensure 
          row uniqueness and support incremental data loads.
        tests:
          - not_null

      - name: SHIP_CODE
        description: >
          A code identifying the ship associated with the cabin category comment. This column is 
          used to analyze comment trends by ship and support reporting requirements.

      - name: CABIN_CATEGORY
        description: >
          The category of cabin associated with the comment. This column is used to analyze 
          comment trends by cabin category and support reporting requirements.

      - name: EFF_FROM
        description: >
          The effective start date of the cabin category comment. This column is used to track 
          changes to comments over time and support auditability requirements.

      - name: EFF_TO
        description: >
          The effective end date of the cabin category comment. This column is used to track 
          changes to comments over time and support auditability requirements.

      - name: COMMENTS
        description: >
          The text of the cabin category comment. This column is used to analyze comment trends 
          and support reporting requirements.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the cabin category comment was last updated in the source system. 
          This column is used to track data freshness and support incremental data loads.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the cabin category comment has been deleted in the source 
          system. This column is used to track data changes and support auditability requirements.