models:
  - name: res_air_request
    description: >
      The res_air_request model represents air travel requests from multiple systems, standardized for downstream analytics. 
      Data from different systems may differ due to varying data entry practices or system-specific nuances. 
      This model is used to analyze air travel trends, track request fulfillment, and audit system performance. 
      Key analytical use cases include reporting on air travel volumes, monitoring request status, and identifying data discrepancies.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - AIR_REQUEST_ID
            - DATA_SOURCE

    columns:
      - name: RES_AIR_REQUEST_SURROGATE_KEY
        description: >
          A unique identifier for each air travel request, generated by combining AIR_REQUEST_ID and DATA_SOURCE. 
          This key ensures row uniqueness and facilitates joins with other models.

      - name: DATA_SOURCE
        description: >
          The system of origin for the air travel request, either 'SW1' or 'SW2'. 
          This column is used to track data lineage and identify system-specific trends.

        tests:
          - not_null

      - name: AIR_REQUEST_ID
        description: >
          A unique identifier for the air travel request within its system of origin. 
          This column, combined with DATA_SOURCE, forms the primary key for this model.

        tests:
          - not_null

      - name: GUEST_ID
        description: >
          The identifier for the guest associated with the air travel request. 
          This column is used to analyze guest travel behavior and preferences.

      - name: REQUEST_TYPE
        description: >
          The type of air travel request, such as 'new' or 'modified'. 
          This column is used to track request patterns and identify trends.

      - name: DATE_OUT
        description: >
          The departure date for the air travel request. 
          This column is used to analyze travel schedules and identify peak periods.

      - name: GATEWAY_OUT
        description: >
          The departure gateway for the air travel request. 
          This column is used to track travel routes and identify popular gateways.

      - name: AIR_FLIGHT_TIMING_OUT
        description: >
          The flight timing for the air travel request's departure. 
          This column is used to analyze flight schedules and identify trends.

      - name: DESTINATION_CODE
        description: >
          The destination code for the air travel request. 
          This column is used to track travel destinations and identify popular routes.

      - name: DESTINATION_RETURN
        description: >
          The return destination for the air travel request. 
          This column is used to analyze travel itineraries and identify trends.

      - name: DATE_RETURN
        description: >
          The return date for the air travel request. 
          This column is used to track travel schedules and identify peak periods.

      - name: GATEWAY_RETURN
        description: >
          The return gateway for the air travel request. 
          This column is used to track travel routes and identify popular gateways.

      - name: AIR_FLIGHT_TIMING_RETURN
        description: >
          The flight timing for the air travel request's return. 
          This column is used to analyze flight schedules and identify trends.

      - name: SEND_STATUS
        description: >
          The send status of the air travel request, such as 'sent' or 'pending'. 
          This column is used to track request fulfillment and identify issues.

      - name: READY_STATUS
        description: >
          The ready status of the air travel request, such as 'ready' or 'not ready'. 
          This column is used to track request preparation and identify bottlenecks.

      - name: ACTIVE
        description: >
          A flag indicating whether the air travel request is active or inactive. 
          This column is used to track request status and identify trends.

      - name: SEAWARE_RESPONSE
        description: >
          The response from the Seaware system for the air travel request. 
          This column is used to track system interactions and identify issues.

      - name: AIRWARE_RESPONSE
        description: >
          The response from the Airware system for the air travel request. 
          This column is used to track system interactions and identify issues.

      - name: REQ_ROUTING_SEQUENCE
        description: >
          The routing sequence for the air travel request. 
          This column is used to track request routing and identify trends.

      - name: NUMBER_OF_SEATS
        description: >
          The number of seats requested for the air travel. 
          This column is used to analyze travel capacity and identify trends.

      - name: SEAT_TYPE
        description: >
          The type of seat requested for the air travel. 
          This column is used to track seat preferences and identify trends.

      - name: SEAT_LOCATION
        description: >
          The location of the seat requested for the air travel. 
          This column is used to track seat preferences and identify trends.

      - name: CLOS
        description: >
          The CLOS (Class of Service) for the air travel request. 
          This column is used to track travel classes and identify trends.

      - name: INVENTORY_REQUEST_TYPE
        description: >
          The type of inventory request for the air travel. 
          This column is used to track inventory management and identify trends.

      - name: ALLOCATION_ID
        description: >
          The allocation ID for the air travel request. 
          This column is used to track allocation and identify trends.

      - name: EFFECTIVE_DATE
        description: >
          The effective date for the air travel request. 
          This column is used to track request timelines and identify trends.

      - name: GNRC_ITIN_ID
        description: >
          The itinerary ID for the air travel request. 
          This column is used to track travel itineraries and identify trends.

      - name: XML_REQUEST_ID
        description: >
          The XML request ID for the air travel request. 
          This column is used to track system interactions and identify issues.

      - name: PNR
        description: >
          The PNR (Passenger Name Record) for the air travel request. 
          This column is used to track travel records and identify trends.

      - name: PA_DEVIATION_REQ_ID
        description: >
          The deviation request ID for the air travel request. 
          This column is used to track deviation requests and identify trends.

      - name: ITIN_SET_DATE
        description: >
          The set date for the air travel request's itinerary. 
          This column is used to track itinerary management and identify trends.

      - name: ITIN_PRICE_CURRENCY
        description: >
          The currency for the air travel request's itinerary price. 
          This column is used to track pricing and identify trends.

      - name: ITIN_PRICE_AMOUNT
        description: >
          The amount of the air travel request's itinerary price. 
          This column is used to track pricing and identify trends.

      - name: ITIN_PRICE_TAXES
        description: >
          The taxes for the air travel request's itinerary price. 
          This column is used to track pricing and identify trends.

      - name: ITIN_COST_CURRENCY
        description: >
          The currency for the air travel request's itinerary cost. 
          This column is used to track costing and identify trends.

      - name: ITIN_COST_AMOUNT
        description: >
          The amount of the air travel request's itinerary cost. 
          This column is used to track costing and identify trends.

      - name: ITIN_COST_TAXES
        description: >
          The taxes for the air travel request's itinerary cost. 
          This column is used to track costing and identify trends.

      - name: ESEAAIR_FLAG
        description: >
          A flag indicating whether the air travel request is an ESEAAIR request. 
          This column is used to track request types and identify trends.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the air travel request has been deleted in the source system. 
          This column is used to track data lineage and identify issues.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp for when the air travel request was last updated. 
          This column is used to track data freshness and identify trends.