models:
- name: res_component
  description: 'The res_component model represents a standardized view of reservation
    components across multiple systems,  including SW1 and SW2. Data from these systems
    may differ due to variations in data entry,  processing, or timing. This model
    is used downstream to provide a unified understanding of  reservation components,
    enabling key analytical use cases such as reporting, metrics, and auditability.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RES_COMPONENT_ID
      - DATA_SOURCE
      

  columns:
  - name: RES_COMPONENT_SURROGATE_KEY
    description: 'A unique identifier for each reservation component, generated by
      combining RES_COMPONENT_ID and DATA_SOURCE.

      '
  - name: DATA_SOURCE
    description: 'The source system of the reservation component, either SW1 or SW2.

      '
  - name: RES_COMPONENT_ID
    description: 'The unique identifier for the reservation component within its source
      system.  This column, in combination with DATA_SOURCE, ensures row uniqueness.

      '
    tests:
    - not_null
  - name: EFFECTIVE_DATE
    description: 'The date when the reservation component became effective.

      '
  - name: END_DATE
    description: 'The date when the reservation component ended.

      '
  - name: START_DATE
    description: 'The date when the reservation component started.

      '
  - name: COMPONENT_CODE
    description: 'The code associated with the reservation component.

      '
  - name: RES_ID
    description: 'The identifier of the reservation that the component belongs to.

      '
  - name: COMPONENT_TYPE
    description: 'The type of the reservation component.

      '
  - name: GUEST_ID
    description: 'The identifier of the guest associated with the reservation component.

      '
  - name: RES_PACKAGE_ID
    description: 'The identifier of the package that the reservation component is
      part of.

      '
  - name: COMPONENT_SUBCODE1
    description: 'Additional subcode information for the reservation component.

      '
  - name: COMPONENT_SUBCODE2
    description: 'Further subcode details for the reservation component.

      '
  - name: COMPONENT_SUBCODE3
    description: 'More specific subcode information for the reservation component.

      '
  - name: LOCATION_TYPE_FROM
    description: 'The type of location that the reservation component is from.

      '
  - name: LOCATION_CODE_FROM
    description: 'The code of the location that the reservation component is from.

      '
  - name: LOCATION_TYPE_TO
    description: 'The type of location that the reservation component is to.

      '
  - name: LOCATION_CODE_TO
    description: 'The code of the location that the reservation component is to.

      '
  - name: ITIN_RECORD_ID
    description: 'The identifier of the itinerary record associated with the reservation
      component.

      '
  - name: MACRO_PACKAGE_ID
    description: 'The identifier of the macro package that the reservation component
      is part of, if applicable.

      '
  - name: MACRO_PACKAGE_SEQN
    description: 'The sequence number of the macro package, if applicable.

      '
  - name: PARENT_PACKAGE_ID
    description: 'The identifier of the parent package, if applicable.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the reservation component was last updated.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the reservation component has been deleted
      in the source system.
