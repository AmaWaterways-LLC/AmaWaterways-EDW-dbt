models:
- name: res_hist_trans
  description: 'This model represents historical transactions related to resources,  consolidated
    from multiple systems (SW1 and SW2). Data from these systems  may differ due to
    varying update frequencies, data entry practices, or  system-specific nuances.
    This standardized model is used downstream for  reporting, analytics, and auditing
    purposes, providing a unified view of  resource transactions. Key analytical use
    cases include tracking resource  utilization, performer and subject analysis,
    and monitoring external user  interactions.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - TRANS_ID
      - DATA_SOURCE
      where: "SOURCE_DELETED = false"

  columns:
  - name: RES_HIST_TRANS_SURROGATE_KEY
    description: 'A unique identifier for each resource transaction, generated by  combining
      TRANS_ID and DATA_SOURCE. This surrogate key ensures row  uniqueness and facilitates
      efficient data retrieval.

      '
  - name: DATA_SOURCE
    description: 'The source system of the transaction data (SW1 or SW2). This column  helps
      identify potential discrepancies or inconsistencies between  systems.

      '
    tests:
    - not_null
  - name: TRANS_ID
    description: 'A unique identifier for the transaction within its source system.  Together
      with DATA_SOURCE, this column forms the primary key of the  model.

      '
    tests:
    - not_null
  - name: RES_ID
    description: 'The identifier of the resource associated with the transaction.
      This  column is crucial for analyzing resource utilization and tracking  changes
      over time.

      '
  - name: TRANS_DATE
    description: 'The date and time of the transaction. This column is used for  chronological
      analysis and identifying trends in resource transactions.

      '
  - name: PERFORMER
    description: 'The entity or user that performed the transaction. This column is  useful
      for analyzing user behavior and identifying patterns in  resource interactions.

      '
  - name: SUBJECT
    description: 'The subject or target of the transaction. This column provides  additional
      context for understanding the nature of the transaction.

      '
  - name: COMMENTS
    description: 'Additional information or comments related to the transaction. This  column
      may contain valuable insights or explanations for specific  transactions.

      '
  - name: SOURCE_CODE
    description: 'A code or identifier specific to the source system, potentially  indicating
      the type or category of the transaction.

      '
  - name: EXTERNAL_USER_ID1
    description: 'An identifier for an external user or entity involved in the  transaction.
      This column is used for tracking external interactions  and analyzing user behavior.

      '
  - name: EXTERNAL_USER_ID2
    description: 'An additional identifier for an external user or entity involved
      in  the transaction. This column provides further context for  understanding
      external interactions.

      '
  - name: SOURCE_DELETED
    description: 'A flag indicating whether the transaction has been deleted in the  source
      system. This column is used for tracking data changes and  identifying potential
      data inconsistencies.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: The date and time of the last update to the transaction data. This  column
      is used for auditing and tracking changes to the data over  time.
