models:
- name: household_phone
  description: 'This model represents a standardized view of household phone data
    from multiple source systems, SW1 and SW2.  The data from these systems may differ
    due to variations in data collection and storage practices.  This model is used
    downstream to provide a unified understanding of household phone information,
    facilitating reporting, metrics, and auditability.  Key analytical use cases include
    analyzing phone usage patterns, identifying primary and secondary phone numbers,
    and tracking changes to phone information over time.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - HOUSEHOLD_PHONE_ID
      - DATA_SOURCE
      

  columns:
  - name: HOUSEHOLD_PHONE_SURROGATE_KEY
    description: 'A unique identifier for each household phone record, generated by
      combining the HOUSEHOLD_PHONE_ID and DATA_SOURCE columns.  This key ensures
      that each record is distinct and can be used for joining with other tables.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the household phone data was extracted,
      either SW1 or SW2.  This column is used to track the origin of the data and
      facilitate data quality analysis.

      '
  - name: HOUSEHOLD_ID
    description: 'A unique identifier for the household associated with the phone
      record.  This column is used to link phone information to household data.

      '
  - name: SEQ_NUMBER
    description: 'A sequence number assigned to the phone record, potentially indicating
      the order in which phone numbers were added or updated.  This column may be
      used to analyze changes to phone information over time.

      '
  - name: PHONE_TYPE
    description: 'The type of phone number, such as landline, mobile, or fax.  This
      column is used to categorize phone numbers and analyze usage patterns.

      '
  - name: INTL_CODE
    description: 'The international code associated with the phone number, indicating
      the country or region.  This column is used to analyze global phone usage and
      identify potential data quality issues.

      '
  - name: PHONE_NUMBER
    description: 'The actual phone number, which may include special characters such
      as parentheses or hyphens.  This column is used to analyze phone usage patterns
      and identify primary and secondary phone numbers.

      '
  - name: IS_PHONE_PRIMARY
    description: 'A flag indicating whether the phone number is primary or not.  This
      column is used to identify the primary phone number for each household.

      '
  - name: IS_PHONE_SECONDARY
    description: 'A flag indicating whether the phone number is secondary or not.  This
      column is used to identify secondary phone numbers for each household.

      '
  - name: IS_PHONE_FAX
    description: 'A flag indicating whether the phone number is a fax number or not.  This
      column is used to identify fax numbers and analyze usage patterns.

      '
  - name: IS_PHONE_EMERGENCY
    description: 'A flag indicating whether the phone number is an emergency contact
      number or not.  This column is used to identify emergency contact numbers and
      analyze usage patterns.

      '
  - name: FAX_ATTENTION_LINE
    description: 'The attention line associated with the fax number, potentially indicating
      the recipient or department.  This column is used to analyze fax usage patterns
      and identify potential data quality issues.

      '
  - name: COMMENTS
    description: 'Additional comments or notes associated with the phone record.  This
      column is used to capture any additional information that may be relevant to
      the phone record.

      '
  - name: HOUSEHOLD_PHONE_ID
    description: 'A unique identifier for the household phone record, used in combination
      with the DATA_SOURCE column to generate the HOUSEHOLD_PHONE_SURROGATE_KEY.  This
      column is used to ensure that each record is distinct and can be used for joining
      with other tables.

      '
    tests:
    - not_null
  - name: PHONE_EXT
    description: 'The phone extension associated with the phone number, potentially
      indicating a specific department or individual.  This column is used to analyze
      phone usage patterns and identify potential data quality issues.

      '
  - name: CLIENT_ID
    description: 'A unique identifier for the client associated with the phone record,
      potentially indicating a specific customer or account.  This column is used
      to link phone information to client data.

      '
  - name: CAN_CONTACT
    description: 'A flag indicating whether the phone number can be used for contact
      purposes or not.  This column is used to identify phone numbers that can be
      used for outreach or communication.

      '
  - name: COUNTRY_CODE
    description: 'The country code associated with the phone number, indicating the
      country or region.  This column is used to analyze global phone usage and identify
      potential data quality issues.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the phone record was last updated, potentially
      indicating changes to phone information.  This column is used to analyze changes
      to phone information over time.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the phone record was deleted in the source
      system or not.  This column is used to track data quality issues and identify
      potential discrepancies between source systems.
