models:
- name: res_update_batch_header
  description: 'This model represents a standardized batch header for resource updates,
    combining data from multiple systems (SW1 and SW2).  The data from these systems
    may differ due to variations in data formatting and watermarking.  This model
    is used downstream to provide a unified view of resource updates, enabling accurate
    reporting, metrics, and auditability.  Key analytical use cases include tracking
    update frequencies, monitoring data inconsistencies, and identifying trends in
    resource utilization.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - HEADER_ID
      - DATA_SOURCE
      where: "SOURCE_DELETED = false"

  columns:
  - name: RES_UPDATE_BATCH_HEADER_SURROGATE_KEY
    description: 'A unique identifier for each batch header, generated by combining
      the HEADER_ID and DATA_SOURCE columns.  This surrogate key ensures row uniqueness
      and facilitates efficient data retrieval.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the batch header data originates (either
      SW1 or SW2).  This column is used to track data provenance and identify potential
      discrepancies between systems.

      '
  - name: HEADER_ID
    description: 'A unique identifier for the batch header within its respective source
      system.  This column, in combination with DATA_SOURCE, forms the primary key
      for this model.

      '
    tests:
    - not_null
  - name: CREATED_AT
    description: 'The timestamp when the batch header was created in the source system.  This
      column provides valuable information for auditing and tracking the history of
      resource updates.

      '
  - name: MAINTAINED_AT
    description: 'The timestamp when the batch header was last maintained or updated
      in the source system.  This column helps identify potential data inconsistencies
      and monitor update frequencies.

      '
  - name: FINISHED_AT
    description: 'The timestamp when the batch header was marked as finished or completed
      in the source system.  This column is used to track the status of resource updates
      and identify potential bottlenecks.

      '
  - name: CREATED_BY
    description: 'The user or entity responsible for creating the batch header in
      the source system.  This column provides accountability and auditing information
      for resource updates.

      '
  - name: MAINTAINED_BY
    description: 'The user or entity responsible for maintaining or updating the batch
      header in the source system.  This column helps track changes to resource updates
      and identify potential issues.

      '
  - name: COMMENTS
    description: 'Additional notes or comments associated with the batch header in
      the source system.  This column provides context and supplementary information
      for resource updates.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the batch header was last updated or synchronized
      with the source system.  This column is used to track data freshness and identify
      potential issues with data integration.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the batch header has been deleted in the
      source system.  This column helps identify data inconsistencies and track changes
      to resource updates.
