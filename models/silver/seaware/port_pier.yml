models:
  - name: port_pier
    description: >
      The port_pier model represents a standardized view of pier data from multiple source systems, including SW1 and SW2. 
      This model is used to provide a unified understanding of pier information, enabling downstream analytics and reporting. 
      Key use cases include analyzing pier utilization, auditing data inconsistencies, and generating reports on pier activity.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - PIER_CODE
            - PORT_CODE
            - DATA_SOURCE

    columns:
      - name: PORT_PIER_SURROGATE_KEY
        description: >
          A unique identifier for each pier record, generated by combining PIER_CODE, PORT_CODE, and DATA_SOURCE. 
          This key enables efficient data retrieval and analysis.

      - name: DATA_SOURCE
        description: >
          The source system from which the pier data originated, either SW1 or SW2. 
          This column is used to track data provenance and identify potential discrepancies.

      - name: PIER_CODE
        description: >
          A unique code identifying the pier, used as part of the primary key. 
          This column is crucial for maintaining data integrity and ensuring accurate analysis.

        tests:
          - not_null

      - name: PIER_NAME
        description: >
          The name of the pier, providing a human-readable description of the pier. 
          This column is used in reporting and analytics to provide context.

      - name: COMMENTS
        description: >
          Additional comments or notes related to the pier, providing further context. 
          This column is used in reporting and analytics to provide additional insights.

      - name: PORT_CODE
        description: >
          A unique code identifying the port associated with the pier, used as part of the primary key. 
          This column is crucial for maintaining data integrity and ensuring accurate analysis.

        tests:
          - not_null

      - name: LINK_ID
        description: >
          A unique identifier for the link associated with the pier. 
          This column is used in reporting and analytics to provide additional context.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the pier data was last updated, used for auditing and data freshness analysis. 
          This column is critical for ensuring data accuracy and timeliness.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the pier data has been deleted in the source system. 
          This column is used for data auditing and ensuring data consistency.