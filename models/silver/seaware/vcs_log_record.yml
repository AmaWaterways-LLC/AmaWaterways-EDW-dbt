models:
  - name: vcs_log_record
    description: >
      This model represents a standardized log record from multiple source systems, 
      capturing changes to data entities. Data from different systems may differ due 
      to variations in data formats, processing schedules, or system-specific rules. 
      This model is used downstream for auditing, reporting, and analytics, providing 
      a unified view of all changes across the enterprise. Key analytical use cases 
      include tracking data modifications, identifying trends in data updates, and 
      ensuring data consistency across systems.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - LOG_RECORD_ID
            - DATA_SOURCE

    columns:
      - name: VCS_LOG_RECORD_SURROGATE_KEY
        description: >
          A unique identifier for each log record, generated by combining the 
          LOG_RECORD_ID and DATA_SOURCE columns. This key ensures row uniqueness 
          across all source systems.
        tests:
          - not_null

      - name: DATA_SOURCE
        description: >
          The source system that generated the log record, such as 'SW1' or 'SW2'. 
          This column is used to identify the origin of each log record and to 
          handle differences in data formats or processing rules between systems.
        tests:
          - not_null

      - name: LOG_RECORD_ID
        description: >
          A unique identifier for the log record within its source system. This 
          column, combined with DATA_SOURCE, forms the primary key for this model.
        tests:
          - not_null

      - name: SOURCE_ID
        description: >
          The identifier of the data entity that was modified, as reported by the 
          source system. This column is used to track changes to specific data 
          entities over time.

      - name: DATE_MODIFIED
        description: >
          The date and time when the data entity was modified, as reported by the 
          source system. This column is used to analyze trends in data updates and 
          to identify recent changes.

      - name: MODIFIED_BY
        description: >
          The user or process that modified the data entity, as reported by the 
          source system. This column is used to track accountability and to 
          identify patterns in data updates.

      - name: TABLE_NAME
        description: >
          The name of the table or data entity that was modified, as reported by 
          the source system. This column is used to identify which data entities 
          are being updated most frequently.

      - name: ACTION
        description: >
          The type of modification made to the data entity, such as 'INSERT', 
          'UPDATE', or 'DELETE'. This column is used to analyze patterns in data 
          updates and to identify potential issues.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the log record has been deleted in the source 
          system. This column is used to handle data consistency and to identify 
          potential data loss.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The date and time when the log record was last updated, as reported by 
          the source system. This column is used to track data freshness and to 
          identify potential issues with data synchronization.