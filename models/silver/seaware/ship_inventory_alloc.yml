models:
- name: ship_inventory_alloc
  description: 'This model represents the allocation of ship inventory across different
    sources, providing a standardized view for analytics and reporting. The data may
    differ between systems due to variations in data entry, processing, or timing.
    This model is used downstream to analyze inventory allocation trends, optimize
    ship capacity, and ensure data consistency. Key analytical use cases include reporting
    on allocation rates, identifying bottlenecks, and auditing data quality.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - ALLOCATION_ID
      - DATA_SOURCE
      

  columns:
  - name: SHIP_INVENTORY_ALLOC_SURROGATE_KEY
    description: 'A unique identifier for each allocation record, generated by combining
      the ALLOCATION_ID and DATA_SOURCE columns. This key ensures row uniqueness and
      facilitates data integration.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the allocation data originates, either
      ''SW1'' or ''SW2''. This column is used to track data provenance and manage
      data integration.

      '
    tests:
    - not_null
  - name: ALLOCATION_ID
    description: 'A unique identifier for the allocation record within the source
      system. This column, combined with DATA_SOURCE, forms the primary key for this
      model.

      '
    tests:
    - not_null
  - name: ALLOCATION_OWNER_TYPE
    description: 'The type of owner associated with the allocation, such as a customer
      or a business unit. This column is used to analyze allocation trends by owner
      type.

      '
  - name: ALLOCATION_OWNER_ID
    description: 'The identifier for the owner associated with the allocation. This
      column is used to link allocation data to owner information.

      '
  - name: OPERATOR_ID
    description: 'The identifier for the operator responsible for the allocation.
      This column is used to analyze allocation trends by operator.

      '
  - name: ALLOCATION_TIMESTAMP
    description: 'The timestamp when the allocation was made. This column is used
      to analyze allocation trends over time.

      '
  - name: PRIORITY
    description: 'The priority level assigned to the allocation. This column is used
      to analyze allocation trends by priority.

      '
  - name: SHIP_CODE
    description: 'The code for the ship associated with the allocation. This column
      is used to analyze allocation trends by ship.

      '
  - name: REL_DAY_FROM
    description: 'The start day of the allocation relative to the ship''s schedule.
      This column is used to analyze allocation trends by day.

      '
  - name: REL_DAY_TO
    description: 'The end day of the allocation relative to the ship''s schedule.
      This column is used to analyze allocation trends by day.

      '
  - name: SAIL_DATE_FROM
    description: 'The start date of the ship''s sailing period. This column is used
      to analyze allocation trends by sailing period.

      '
  - name: SAIL_DATE_TO
    description: 'The end date of the ship''s sailing period. This column is used
      to analyze allocation trends by sailing period.

      '
  - name: CABIN_CATEGORY
    description: 'The category of cabin associated with the allocation. This column
      is used to analyze allocation trends by cabin category.

      '
  - name: DEPENDS_ON_ID
    description: 'The identifier for the allocation that this allocation depends on.
      This column is used to analyze allocation dependencies.

      '
  - name: INVENTORY_REQUEST_TYPE
    description: 'The type of inventory request associated with the allocation. This
      column is used to analyze allocation trends by request type.

      '
  - name: INVENTORY_RESULT_TYPE
    description: 'The result of the inventory request associated with the allocation.
      This column is used to analyze allocation trends by result type.

      '
  - name: CABIN_NUMBER
    description: 'The number of the cabin associated with the allocation. This column
      is used to analyze allocation trends by cabin number.

      '
  - name: PROBABILITY
    description: 'The probability of the allocation being fulfilled. This column is
      used to analyze allocation trends by probability.

      '
  - name: DECLINE_REASON
    description: 'The reason for declining the allocation. This column is used to
      analyze allocation trends by decline reason.

      '
  - name: RELEASE_TIMESTAMP
    description: 'The timestamp when the allocation was released. This column is used
      to analyze allocation trends by release time.

      '
  - name: OCCUPANCY
    description: 'The occupancy rate associated with the allocation. This column is
      used to analyze allocation trends by occupancy.

      '
  - name: PRICE_CATEGORY
    description: 'The price category associated with the allocation. This column is
      used to analyze allocation trends by price category.

      '
  - name: ROLLAWAY_BEDS_REQUESTED
    description: 'The number of rollaway beds requested for the allocation. This column
      is used to analyze allocation trends by rollaway bed requests.

      '
  - name: RESERVE_TYPE
    description: 'The type of reservation associated with the allocation. This column
      is used to analyze allocation trends by reserve type.

      '
  - name: WTL_OWNER_FLAG
    description: 'A flag indicating whether the allocation owner is a WTL (Waitlist)
      owner. This column is used to analyze allocation trends by WTL ownership.

      '
  - name: DLGT_RES_ID
    description: 'The identifier for the delegated reservation associated with the
      allocation. This column is used to analyze allocation trends by delegated reservation.

      '
  - name: IS_DLGT_OBJ
    description: 'A flag indicating whether the allocation is a delegated object.
      This column is used to analyze allocation trends by delegated object status.

      '
  - name: OVERLAY_DAY_FROM
    description: 'The start day of the overlay period associated with the allocation.
      This column is used to analyze allocation trends by overlay period.

      '
  - name: OVERLAY_DAY_TO
    description: 'The end day of the overlay period associated with the allocation.
      This column is used to analyze allocation trends by overlay period.

      '
  - name: DEP_REF_ID
    description: 'The identifier for the departure reference associated with the allocation.
      This column is used to analyze allocation trends by departure reference.

      '
  - name: ARR_REF_ID
    description: 'The identifier for the arrival reference associated with the allocation.
      This column is used to analyze allocation trends by arrival reference.

      '
  - name: OVERLAY_REF_FROM
    description: 'The start reference for the overlay period associated with the allocation.
      This column is used to analyze allocation trends by overlay reference.

      '
  - name: OVERLAY_REF_TO
    description: 'The end reference for the overlay period associated with the allocation.
      This column is used to analyze allocation trends by overlay reference.

      '
  - name: IS_SOFT_ASSIGN
    description: 'A flag indicating whether the allocation is a soft assignment. This
      column is used to analyze allocation trends by soft assignment status.

      '
  - name: CHILD_OCCUPANCY
    description: 'The occupancy rate for children associated with the allocation.
      This column is used to analyze allocation trends by child occupancy.

      '
  - name: MAX_CABIN_OCCUPANCY
    description: 'The maximum occupancy rate for the cabin associated with the allocation.
      This column is used to analyze allocation trends by maximum cabin occupancy.

      '
  - name: GENDER
    description: 'The gender associated with the allocation. This column is used to
      analyze allocation trends by gender.

      '
  - name: BERTH_NUMBER
    description: 'The number of the berth associated with the allocation. This column
      is used to analyze allocation trends by berth number.

      '
  - name: FZ_ADJUSTMENT
    description: 'The adjustment value for the allocation. This column is used to
      analyze allocation trends by adjustment value.

      '
  - name: ALLOTMENT_CABIN_ID
    description: 'The identifier for the allotment cabin associated with the allocation.
      This column is used to analyze allocation trends by allotment cabin.

      '
  - name: ALLOTMENT_AGREEMENT_ID
    description: 'The identifier for the allotment agreement associated with the allocation.
      This column is used to analyze allocation trends by allotment agreement.

      '
  - name: PAX_RESERVE_TYPE
    description: 'The type of passenger reservation associated with the allocation.
      This column is used to analyze allocation trends by passenger reservation type.

      '
  - name: PAX_TYPE
    description: 'The type of passenger associated with the allocation. This column
      is used to analyze allocation trends by passenger type.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the allocation was last updated. This column
      is used to analyze allocation trends by update time.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the allocation was deleted in the source
      system. This column is used to analyze allocation trends by deletion status.
