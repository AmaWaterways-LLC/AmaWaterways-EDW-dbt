models:
- name: res_protected_commission
  description: 'This model represents the standardized commission data from multiple
    systems,  providing a unified view for downstream analytics and reporting. The
    data  from different systems may differ due to variations in commission structures,  data
    entry practices, or system-specific nuances. This model is used to  generate reports
    on commission earnings, track manual adjustments, and  analyze commission fare
    and payout trends.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RECORD_ID
      - DATA_SOURCE
      

  columns:
  - name: RES_PROTECTED_COMMISSION_SURROGATE_KEY
    description: 'A unique identifier generated by combining RECORD_ID and DATA_SOURCE,  ensuring
      row uniqueness across different data sources.

      '
  - name: DATA_SOURCE
    description: 'The source system of the commission data, either ''SW1'' or ''SW2'',  indicating
      the origin of the data.

      '
  - name: RECORD_ID
    description: 'A unique identifier for the commission record within its source
      system,  used in combination with DATA_SOURCE to ensure row uniqueness.

      '
    tests:
    - not_null
  - name: RES_ID
    description: 'The identifier of the resource associated with the commission,  providing
      a link to the relevant resource data.

      '
  - name: COMMISS_SOURCE
    description: 'The source of the commission, indicating the type of commission
      or  the reason for the commission payment.

      '
  - name: COMMISS_CODE
    description: 'A code representing the commission type or structure, used for  categorization
      and analysis.

      '
  - name: PERCENT
    description: 'The percentage of the commission, representing the proportion of  the
      total amount.

      '
  - name: AMOUNT
    description: 'The total amount of the commission, providing a monetary value for  analysis
      and reporting.

      '
  - name: COMMISS_FARE
    description: 'The fare associated with the commission, representing the cost or  revenue
      related to the commission.

      '
  - name: IS_MANUAL_ADJUSTMENT
    description: 'A flag indicating whether the commission was manually adjusted,  providing
      insight into manual intervention.

      '
  - name: IS_LOWER_LIMIT
    description: 'A flag indicating whether the commission is subject to a lower limit,  used
      for analysis and reporting.

      '
  - name: IS_UPPER_LIMIT
    description: 'A flag indicating whether the commission is subject to an upper
      limit,  used for analysis and reporting.

      '
  - name: AGENCY_ID
    description: 'The identifier of the agency associated with the commission,  providing
      a link to the relevant agency data.

      '
  - name: PAYOUT_DATE
    description: 'The date of the commission payout, providing a timestamp for  analysis
      and reporting.

      '
  - name: GL_PROTOTYPE_ID
    description: 'The identifier of the general ledger prototype associated with the  commission,
      providing a link to the relevant financial data.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp of the last update to the commission data,  providing
      a record of data freshness.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the commission record was deleted in the  source
      system, used for data auditing and tracking.
