models:
- name: ship_cabin_reserve
  description: 'This model represents ship cabin reserve data from multiple systems,
    providing a standardized view for downstream analytics.  Data from different systems
    may differ due to varying data entry practices or system-specific nuances.  This
    model is used to generate reports on ship cabin utilization, analyze reservation
    trends, and audit data inconsistencies.  Key analytical use cases include monitoring
    guest count, reservation types, and cabin allocation.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RECORD_ID
      - DATA_SOURCE
      

  columns:
  - name: SHIP_CABIN_RESERVE_SURROGATE_KEY
    description: 'A unique identifier for each ship cabin reserve record, generated
      by combining RECORD_ID and DATA_SOURCE.  This key ensures row uniqueness and
      facilitates joins with other models.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the ship cabin reserve data originates,
      either ''SW1'' or ''SW2''.  This column helps identify data inconsistencies
      and system-specific nuances.

      '
  - name: RECORD_ID
    description: 'A unique identifier for each ship cabin reserve record within its
      source system.  This column, combined with DATA_SOURCE, forms the primary key
      for this model.

      '
    tests:
    - not_null
  - name: SHIP_CODE
    description: 'A code representing the ship associated with the cabin reserve.  This
      column is used to analyze ship-specific reservation trends.

      '
  - name: CABIN_NUMBER
    description: 'The number of the cabin being reserved.  This column is used to
      monitor cabin allocation and utilization.

      '
  - name: REL_DAY_FROM
    description: 'The start day of the cabin reserve relative to the sail date.  This
      column helps analyze reservation duration and timing.

      '
  - name: REL_DAY_TO
    description: 'The end day of the cabin reserve relative to the sail date.  This
      column helps analyze reservation duration and timing.

      '
  - name: SAIL_DATE_FROM
    description: 'The start date of the sail period associated with the cabin reserve.  This
      column is used to analyze seasonal reservation trends.

      '
  - name: SAIL_DATE_TO
    description: 'The end date of the sail period associated with the cabin reserve.  This
      column is used to analyze seasonal reservation trends.

      '
  - name: RESERVE_TYPE
    description: 'The type of cabin reserve, such as ''Guarantee'' or ''Allocation''.  This
      column helps analyze reservation types and trends.

      '
  - name: COMMENTS
    description: 'Additional comments or notes related to the cabin reserve.  This
      column provides context for data analysts and stakeholders.

      '
  - name: GUEST_COUNT
    description: 'The number of guests associated with the cabin reserve.  This column
      is used to monitor guest count and demographics.

      '
  - name: DEP_REF_ID
    description: 'A reference ID for the departure associated with the cabin reserve,
      if applicable.  This column helps analyze departure-specific reservation trends.

      '
  - name: ARR_REF_ID
    description: 'A reference ID for the arrival associated with the cabin reserve,
      if applicable.  This column helps analyze arrival-specific reservation trends.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the cabin reserve record was last updated in
      the source system.  This column helps track data freshness and changes.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the cabin reserve record has been deleted
      in the source system.  This column helps track data consistency and auditability.
