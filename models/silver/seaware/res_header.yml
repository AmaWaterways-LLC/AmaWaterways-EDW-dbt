models:
  - name: res_header
    description: >
      The res_header model represents a standardized view of reservation headers across multiple systems. 
      Data from different systems may differ due to varying data structures and business rules. 
      This model is used downstream for analytics and reporting, providing a unified understanding of reservation headers. 
      Key analytical use cases include analyzing reservation trends, tracking changes in reservation status, and auditing data consistency across systems.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - RES_ID
            - DATA_SOURCE

    columns:
      - name: RES_HEADER_SURROGATE_KEY
        description: >
          A unique identifier for each reservation header, generated by combining RES_ID and DATA_SOURCE.

      - name: DATA_SOURCE
        description: >
          The source system of the reservation header, either 'SW1' or 'SW2'.

      - name: RES_ID
        description: >
          The unique identifier of the reservation in the source system. 
          This column, combined with DATA_SOURCE, forms the primary key of the model.
        tests:
          - not_null

      - name: RES_INIT_DATE
        description: >
          The date the reservation was initialized.

      - name: RES_GUEST_COUNT
        description: >
          The number of guests associated with the reservation.

      - name: AGENCY_ID
        description: >
          The identifier of the agency that made the reservation.

      - name: AGENT_ID
        description: >
          The identifier of the agent who made the reservation.

      - name: CABIN_CATEGORY
        description: >
          The category of the cabin associated with the reservation.

      - name: RES_STATUS
        description: >
          The current status of the reservation.

      - name: PROBABILITY
        description: >
          The probability of the reservation being confirmed.

      - name: GROUP_ID
        description: >
          The identifier of the group associated with the reservation.

      - name: DELEGATE_HEADER_ID
        description: >
          The identifier of the delegate header associated with the reservation.

      - name: COMMENTS
        description: >
          Additional comments or notes about the reservation.

      - name: CRS_STATUS
        description: >
          The status of the reservation in the Central Reservation System (CRS).

      - name: DPMS_STATUS
        description: >
          The status of the reservation in the Data Processing Management System (DPMS).

      - name: TERMINATION_COMPLETED
        description: >
          A flag indicating whether the reservation termination has been completed.

      - name: SHIP_CODE
        description: >
          The code of the ship associated with the reservation.

      - name: PACKAGE_TYPE
        description: >
          The type of package associated with the reservation.

      - name: SAIL_DATE_FROM
        description: >
          The start date of the sailing period associated with the reservation.

      - name: SAIL_DATE_TO
        description: >
          The end date of the sailing period associated with the reservation.

      - name: REL_DAY_FROM
        description: >
          The start day of the sailing period relative to the reservation.

      - name: REL_DAY_TO
        description: >
          The end day of the sailing period relative to the reservation.

      - name: SOURCE_CODE
        description: >
          The source code of the reservation.

      - name: ALT_RES_ID
        description: >
          The alternate reservation identifier.

      - name: SEC_AGENCY_ID
        description: >
          The identifier of the secondary agency associated with the reservation.

      - name: OFFICE_CODE
        description: >
          The code of the office associated with the reservation.

      - name: CURRENCY_RATE
        description: >
          The currency rate associated with the reservation.

      - name: CURRENCY_CODE
        description: >
          The code of the currency associated with the reservation.

      - name: RH_ENTITY_TYPE
        description: >
          The type of entity associated with the reservation.

      - name: CANCELLATION_CASE
        description: >
          The cancellation case associated with the reservation.

      - name: OFFICE_LOCATION
        description: >
          The location of the office associated with the reservation.

      - name: DEP_REF_ID
        description: >
          The departure reference identifier.

      - name: ARR_REF_ID
        description: >
          The arrival reference identifier.

      - name: SEC_AGENT_ID
        description: >
          The identifier of the secondary agent associated with the reservation.

      - name: COMPANY_ID
        description: >
          The identifier of the company associated with the reservation.

      - name: COMPANY_AGENT_ID
        description: >
          The identifier of the company agent associated with the reservation.

      - name: CONTACT_ID
        description: >
          The identifier of the contact associated with the reservation.

      - name: RES_TYPE
        description: >
          The type of reservation.

      - name: PARENT_RES_ID
        description: >
          The identifier of the parent reservation.

      - name: OWNERSHIP_CODE
        description: >
          The ownership code associated with the reservation.

      - name: VT_PACKAGE_ID
        description: >
          The identifier of the package associated with the reservation.

      - name: RES_NAME
        description: >
          The name of the reservation.

      - name: LAST_UPDATED_AT
        description: >
          The timestamp when the reservation was last updated.

      - name: IS_PROB_MANUAL
        description: >
          A flag indicating whether the probability is manual.

      - name: RES_MODE
        description: >
          The mode of the reservation.

      - name: CUSTOMER_REFERENCE
        description: >
          The customer reference associated with the reservation.

      - name: AGREEMENT_AGENCY_ID
        description: >
          The identifier of the agreement agency associated with the reservation.

      - name: WAS_IMO_CONTROLLED
        description: >
          A flag indicating whether the reservation was IMO controlled.

      - name: CONSIGNEE_ID
        description: >
          The identifier of the consignee associated with the reservation.

      - name: CONSIGNEE
        description: >
          The consignee associated with the reservation.

      - name: ALLOTMENT_HEADER_ID
        description: >
          The identifier of the allotment header associated with the reservation.

      - name: NEEDS_CONTROL_BEFORE_INVOICE
        description: >
          A flag indicating whether the reservation needs control before invoicing.

      - name: CONSIGNEE_CLIENT_ID
        description: >
          The identifier of the consignee client associated with the reservation.

      - name: CARGO_DEV_TYPE
        description: >
          The type of cargo development associated with the reservation.

      - name: CARGO_DEV_TYPE_EXT
        description: >
          The extended type of cargo development associated with the reservation.

      - name: CARGO_DEV_INFO
        description: >
          Additional information about the cargo development associated with the reservation.

      - name: CARGO_DEV_STATUS
        description: >
          The status of the cargo development associated with the reservation.

      - name: SELLER_ID
        description: >
          The identifier of the seller associated with the reservation.

      - name: SELLER_VAT_ID
        description: >
          The VAT identifier of the seller associated with the reservation.

      - name: BUYER_VAT_ID
        description: >
          The VAT identifier of the buyer associated with the reservation.

      - name: ALLOW_INVOICING
        description: >
          A flag indicating whether invoicing is allowed for the reservation.

      - name: BUYER_ID
        description: >
          The identifier of the buyer associated with the reservation.

      - name: LANGUAGE_CODE
        description: >
          The language code associated with the reservation.

      - name: LAST_PAYMENT_EXT_DATE
        description: >
          The date of the last payment extension associated with the reservation.

      - name: CAB_DISTRIB_BYPASS_ELIGIB_RULE
        description: >
          A flag indicating whether the cabin distribution bypasses eligibility rules.

      - name: ALT_GROUPING
        description: >
          The alternate grouping associated with the reservation.

      - name: HAS_EXTERNAL_COMPONENTS
        description: >
          A flag indicating whether the reservation has external components.

      - name: BOARDING_ZONE
        description: >
          The boarding zone associated with the reservation.

      - name: SHIPPER_ID
        description: >
          The identifier of the shipper associated with the reservation.

      - name: CONSIDER_PAID
        description: >
          A flag indicating whether the reservation is considered paid.

      - name: CARGO_BY_SHIPPER_ORDER
        description: >
          A flag indicating whether the cargo is ordered by the shipper.

      - name: NOTIFY_AGENCY_ID
        description: >
          The identifier of the agency to notify associated with the reservation.

      - name: NOTIFY_CLIENT_ID
        description: >
          The identifier of the client to notify associated with the reservation.

      - name: NOTIFY_MESSAGE
        description: >
          The notification message associated with the reservation.

      - name: CARGO_BY_CONSIGNEE_ORDER
        description: >
          A flag indicating whether the cargo is ordered by the consignee.

      - name: EXT_REQUESTER_CLIENT_ID
        description: >
          The identifier of the external requester client associated with the reservation.

      - name: EXT_REQUESTER_AGENCY_ID
        description: >
          The identifier of the external requester agency associated with the reservation.

      - name: EXTRA_AGENCY_ID
        description: >
          The identifier of the extra agency associated with the reservation.

      - name: HOLD_UPDATES_TO_AIR_SYSTEM
        description: >
          A flag indicating whether updates to the air system are held.

      - name: RES_VERSION
        description: >
          The version of the reservation.

      - name: OFFER_CODE
        description: >
          The offer code associated with the reservation.

      - name: TRW_REFERRAL_CODE
        description: >
          The TRW referral code associated with the reservation.

      - name: PAYER_CLIENT_ID
        description: >
          The identifier of the payer client associated with the reservation.

      - name: ADDRESS_GUEST_AS
        description: >
          The address of the guest associated with the reservation.

      - name: ORIGIN_COUNTRY_CODE
        description: >
          The origin country code associated with the reservation.

      - name: EXT_REQUESTER_AGENT_ID
        description: >
          The identifier of the external requester agent associated with the reservation.

      - name: GIFT_CARD_TO
        description: >
          The recipient of the gift card associated with the reservation.

      - name: GIFT_CARD_MSG
        description: >
          The message on the gift card associated with the reservation.

      - name: GIFT_CARD_COMPLIMENTS_OF
        description: >
          The compliments on the gift card associated with the reservation.

      - name: ALPHA_NUM_ID
        description: >
          The alphanumeric identifier associated with the reservation.

      - name: ORIGINAL_INIT_DATE
        description: >
          The original initialization date of the reservation.

      - name: GROUP_AUTO_DISTR_DISABLED
        description: >
          A flag indicating whether group auto distribution is disabled.

      - name: TERMS_ENABLED
        description: >
          A flag indicating whether terms are enabled for the reservation.

      - name: TERMS_ENABLED_OVR
        description: >
          A flag indicating whether terms are enabled override for the reservation.

      - name: FPR_AT_GROSS
        description: >
          A flag indicating whether FPR is at gross for the reservation.

      - name: CONFIRMATION_DATE
        description: >
          The confirmation date of the reservation.

      - name: QUOTE_CONFIRMATION_DATE
        description: >
          The quote confirmation date of the reservation.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the reservation was last updated.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the reservation is deleted in the source system.

      - name: AM_ORDER_ID
        description: >
          The identifier of the AM order associated with the reservation.

      - name: COMMISSION_AGENCY_ID
        description: >
          The identifier of the commission agency associated with the reservation.

      - name: COLLECTION_ID
        description: >
          The identifier of the collection associated with the reservation.

      - name: ESEAAIR_VERSION_SW
        description: >
          The ESEAAIR version SW associated with the reservation.

      - name: ESEAAIR_VERSION_AW
        description: >
          The ESEAAIR version AW associated with the reservation.