models:
- name: insurance_exch_header
  description: 'This model represents the standardized insurance exchange header data
    from multiple systems,  providing a unified view for downstream analytics and
    reporting. The data may differ across  systems due to variations in data entry,
    processing, or timing. This model is used to  generate key metrics, such as premium
    amounts, penalty amounts, and commissions, as well as  to track claim status and
    insurance company share. It also enables auditability and  traceability of insurance
    exchange transactions.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - EXCH_HEADER_ID
      - DATA_SOURCE
      

  columns:
  - name: INSURANCE_EXCH_HEADER_SURROGATE_KEY
    description: 'A unique surrogate key generated from the combination of EXCH_HEADER_ID
      and DATA_SOURCE,  ensuring row uniqueness across different data sources.

      '
  - name: DATA_SOURCE
    description: 'The source system identifier, indicating the origin of the insurance
      exchange header data.

      '
  - name: EXCH_HEADER_ID
    description: 'The unique identifier for the insurance exchange header, used in
      combination with  DATA_SOURCE to ensure row uniqueness. This column is part
      of the primary key.

      '
    tests:
    - not_null
  - name: RES_ID
    description: 'The identifier for the associated reservation, used for tracking
      and linking insurance  exchange data to reservation information.

      '
  - name: GUEST_ID
    description: 'The identifier for the guest associated with the insurance exchange,
      used for tracking  and linking guest information to insurance exchange data.

      '
  - name: CLIENT_ID
    description: 'The identifier for the client associated with the insurance exchange,
      used for tracking  and linking client information to insurance exchange data.

      '
  - name: INSUR_EXCH_STATUS
    description: 'The status of the insurance exchange, indicating the current state
      of the exchange  process.

      '
  - name: CANCELATION_TYPE
    description: 'The type of cancelation, if applicable, indicating the reason for
      cancelation.

      '
  - name: CANCELATION_DATE
    description: 'The date of cancelation, if applicable, indicating when the cancelation
      occurred.

      '
  - name: INSURANCE_TYPE
    description: 'The type of insurance associated with the exchange, indicating the
      specific insurance  product.

      '
  - name: PREMIUM_AMOUNT
    description: 'The premium amount associated with the insurance exchange, used
      for calculating  revenue and metrics.

      '
  - name: PENALTY_AMOUNT
    description: 'The penalty amount associated with the insurance exchange, used
      for calculating  revenue and metrics.

      '
  - name: INVOICE_TOTAL
    description: 'The total invoice amount associated with the insurance exchange,
      used for calculating  revenue and metrics.

      '
  - name: CLAIM_DATE
    description: 'The date of the claim, if applicable, indicating when the claim
      was made.

      '
  - name: CLAIM_NUMBER
    description: 'The claim number, if applicable, used for tracking and linking claim
      information.

      '
  - name: CLAIM_STATUS
    description: 'The status of the claim, if applicable, indicating the current state
      of the claim  process.

      '
  - name: COMMISSIONS
    description: 'The commission amount associated with the insurance exchange, used
      for calculating  revenue and metrics.

      '
  - name: COMMENTS
    description: 'Additional comments or notes associated with the insurance exchange,
      used for  tracking and auditing purposes.

      '
  - name: SUBMISSION_DATE
    description: 'The date of submission, indicating when the insurance exchange was
      submitted.

      '
  - name: SUBMISSION_DONE
    description: 'The submission status, indicating whether the insurance exchange
      has been  successfully submitted.

      '
  - name: COUPON_DATE
    description: 'The date of the coupon, if applicable, indicating when the coupon
      was issued.

      '
  - name: COUPON_NUMBER
    description: 'The coupon number, if applicable, used for tracking and linking
      coupon information.

      '
  - name: INSUR_COMPANY_SHARE
    description: 'The insurance company''s share of the premium amount, used for calculating
      revenue  and metrics.

      '
  - name: INSUR_CONFIRM_DATE
    description: 'The date of insurance confirmation, indicating when the insurance
      was confirmed.

      '
  - name: AGE
    description: 'The age of the insured, used for calculating premiums and metrics.

      '
  - name: FULLY_PAID
    description: 'The fully paid status, indicating whether the insurance exchange
      has been fully paid.

      '
  - name: INSUR_CHANGE_DATE
    description: 'The date of the insurance change, if applicable, indicating when
      the insurance was  changed.

      '
  - name: INSUR_CHANGE_DETAILS
    description: 'The details of the insurance change, if applicable, used for tracking
      and auditing  purposes.

      '
  - name: CURRENCY_CODE
    description: 'The currency code associated with the insurance exchange, used for
      calculating  revenue and metrics.

      '
  - name: IS_ACTIVE
    description: 'The active status, indicating whether the insurance exchange is
      currently active.

      '
  - name: SHIP_CODE
    description: 'The ship code associated with the insurance exchange, used for tracking
      and linking  ship information.

      '
  - name: SAIL_DATE_FROM
    description: 'The sail date from, indicating the start date of the sailing period.

      '
  - name: SAIL_DATE_TO
    description: 'The sail date to, indicating the end date of the sailing period.

      '
  - name: VACATION_DATE_FROM
    description: 'The vacation date from, indicating the start date of the vacation
      period.

      '
  - name: VACATION_DATE_TO
    description: 'The vacation date to, indicating the end date of the vacation period.

      '
  - name: OFFICE_CODE
    description: 'The office code associated with the insurance exchange, used for
      tracking and linking  office information.

      '
  - name: SOURCE_DELETED
    description: 'The source deleted flag, indicating whether the record has been
      deleted in the  source system.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: The last updated timestamp, indicating when the record was last updated.
