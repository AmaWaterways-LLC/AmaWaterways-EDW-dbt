models:
- name: agent
  description: 'The agent model represents a unified view of agents across multiple
    systems,  including SW1 and SW2. Data from these systems may differ due to varying  update
    frequencies, data entry practices, or system-specific fields.  This standardized
    model is used downstream for reporting, analytics, and  auditing purposes, providing
    a single source of truth for agent information.  Key analytical use cases include
    tracking agent performance, monitoring  sales trends, and identifying areas for
    training and improvement.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - AGENT_ID
      - DATA_SOURCE
      where: "SOURCE_DELETED = false"

  columns:
  - name: AGENT_SURROGATE_KEY
    description: 'A unique identifier for each agent, generated by combining the  AGENT_ID
      and DATA_SOURCE columns. This key ensures that each agent  is represented only
      once, even if they exist in multiple source systems.

      '
  - name: DATA_SOURCE
    description: 'The source system from which the agent data originated, either SW1
      or SW2.

      '
  - name: AGENT_ID
    description: 'The unique identifier for the agent within their respective source
      system.  This column, combined with DATA_SOURCE, forms the primary key for the
      agent model.

      '
    tests:
    - not_null
  - name: LAST_NAME
    description: 'The agent''s last name, used for identification and personalization
      purposes.

      '
  - name: FIRST_NAME
    description: 'The agent''s first name, used for identification and personalization
      purposes.

      '
  - name: MIDDLE_NAME
    description: 'The agent''s middle name, used for identification and personalization
      purposes.

      '
  - name: FULL_NAME
    description: 'The agent''s full name, used for identification and personalization
      purposes.

      '
  - name: SALUTATION
    description: 'The agent''s preferred salutation, used for communication and personalization
      purposes.

      '
  - name: TITLE
    description: 'The agent''s job title, used for role-based access control and reporting
      purposes.

      '
  - name: SEX
    description: 'The agent''s sex, used for demographic analysis and reporting purposes.

      '
  - name: BIRTHDAY
    description: 'The agent''s birthday, used for age-based analysis and reporting
      purposes.

      '
  - name: IATAN_NUMBER
    description: 'The agent''s IATAN number, used for industry-specific identification
      and reporting purposes.

      '
  - name: IATAN_COMPANY_NAME
    description: 'The name of the company associated with the agent''s IATAN number.

      '
  - name: IATAN_HOLDER_NAME
    description: 'The name of the holder associated with the agent''s IATAN number.

      '
  - name: IATAN_COMPANY_NUMBER
    description: 'The company number associated with the agent''s IATAN number.

      '
  - name: COMMENTS
    description: 'Additional comments or notes about the agent, used for contextual
      understanding and reporting purposes.

      '
  - name: IATAN_EXPIRATION_DATE
    description: 'The expiration date of the agent''s IATAN number, used for compliance
      and reporting purposes.

      '
  - name: EMAIL
    description: 'The agent''s email address, used for communication and notification
      purposes.

      '
  - name: IS_DISTRICT_SM
    description: 'A flag indicating whether the agent is a district sales manager.

      '
  - name: IS_INCENTIVE_SM
    description: 'A flag indicating whether the agent is an incentive sales manager.

      '
  - name: WEB_PASSWORD
    description: 'The agent''s web password, used for secure login and authentication
      purposes.

      '
  - name: WEB_LOGIN_NAME
    description: 'The agent''s web login name, used for secure login and authentication
      purposes.

      '
  - name: WEB_LAST_LOGIN
    description: 'The timestamp of the agent''s last web login, used for activity
      tracking and reporting purposes.

      '
  - name: WEB_CANACCESAGENCYDATA
    description: 'A flag indicating whether the agent can access agency data on the
      web.

      '
  - name: ALLOW_WEB_ACCESS
    description: 'A flag indicating whether the agent is allowed web access.

      '
  - name: SW_LOGIN_NAME
    description: 'The agent''s login name for the SW system.

      '
  - name: NOTIF_DFLT_DISTR_TYPE
    description: 'The default distribution type for notifications sent to the agent.

      '
  - name: FIRST_NAME_NATIVE
    description: 'The agent''s first name in their native language.

      '
  - name: MIDDLE_NAME_NATIVE
    description: 'The agent''s middle name in their native language.

      '
  - name: LAST_NAME_NATIVE
    description: 'The agent''s last name in their native language.

      '
  - name: WEB_LOGIN_FAILURES
    description: 'The number of failed web login attempts made by the agent.

      '
  - name: ALT_AGENT_ID
    description: 'An alternate identifier for the agent.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the agent''s data was last updated.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the agent's data has been deleted in the
      source system.
