models:
  - name: res_air_tickets
    description: >
      This model represents air ticket reservations in the enterprise domain, 
      standardized from multiple source systems. Data from different systems 
      may differ due to varying data entry practices or system-specific fields. 
      This model is used downstream for reporting, metrics, and auditability, 
      providing a unified view of air ticket reservations across the organization.

    meta:
      owner: data_engineering
      criticality: high
      pii: false

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - RECORD_ID
            - DATA_SOURCE

    columns:
      - name: RES_AIR_TICKETS_SURROGATE_KEY
        description: >
          A unique identifier for each air ticket reservation, generated by 
          combining RECORD_ID and DATA_SOURCE. This column ensures row uniqueness 
          and facilitates data integration across systems.

      - name: DATA_SOURCE
        description: >
          The source system from which the air ticket reservation data originated. 
          This column is used to track data lineage and identify potential 
          discrepancies between systems.

        tests:
          - not_null

      - name: RECORD_ID
        description: >
          A unique identifier for the air ticket reservation within the source 
          system. This column, combined with DATA_SOURCE, ensures row uniqueness.

        tests:
          - not_null

      - name: AIR_REQUEST_ID
        description: >
          The identifier for the air travel request associated with the ticket 
          reservation. This column links the reservation to the original request.

      - name: TICKET_NUMBERS
        description: >
          The ticket numbers assigned to the air ticket reservation. This column 
          contains the actual ticket numbers used for travel.

      - name: COMMENTS
        description: >
          Additional comments or notes related to the air ticket reservation. 
          This column captures any free-text information relevant to the reservation.

      - name: SOURCE_DELETED
        description: >
          A flag indicating whether the air ticket reservation has been deleted 
          in the source system. This column tracks data changes and ensures data 
          consistency.

      - name: LAST_UPDATED_TIMESTAMP
        description: >
          The timestamp when the air ticket reservation was last updated in the 
          source system. This column tracks data freshness and changes over time.