models:
- name: res_promotion
  description: 'This model represents a standardized view of promotions across multiple
    source systems,  including SW1 and SW2. The data from these systems may differ
    due to variations in  business processes or data capture methods. This model is
    used downstream to provide  a unified understanding of promotions, enabling key
    analytical use cases such as  reporting on promotion effectiveness, tracking guest
    interactions, and auditing  promotional activities.

    '
  meta:
    owner: data_engineering
    criticality: high
    pii: false
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - RES_PROMOTION_SURROGATE_KEY
      

  columns:
  - name: RES_PROMOTION_SURROGATE_KEY
    description: 'A unique identifier for each promotion record, generated by combining
      the  RES_PROMO_ID and DATA_SOURCE columns. This key ensures that each record
      is  distinct and can be used for joining with other tables.

      '
    tests:
    - not_null
  - name: DATA_SOURCE
    description: 'The source system from which the promotion data was extracted, either
      SW1 or SW2.

      '
  - name: RES_PROMO_ID
    description: 'A unique identifier for the promotion within the source system.

      '
  - name: RES_ID
    description: 'The identifier of the associated reservation.

      '
  - name: GUEST_ID
    description: 'The identifier of the guest associated with the promotion.

      '
  - name: PROMO_CODE
    description: 'The code used to identify the promotion.

      '
  - name: IS_EXCLUDED
    description: 'A flag indicating whether the promotion is excluded from certain
      business processes.

      '
  - name: IS_ACTIVE
    description: 'A flag indicating whether the promotion is currently active.

      '
  - name: RES_PACKAGE_ID
    description: 'The identifier of the associated reservation package.

      '
  - name: IS_MANUAL
    description: 'A flag indicating whether the promotion was manually applied.

      '
  - name: PROMO_VALUE
    description: 'The value associated with the promotion, only applicable to SW2.

      '
  - name: PROMO_VALUE_TYPE
    description: 'The type of value associated with the promotion, only applicable
      to SW2.

      '
  - name: IS_STATIC
    description: 'A flag indicating whether the promotion value is static, only applicable
      to SW2.

      '
  - name: LAST_UPDATED_TIMESTAMP
    description: 'The timestamp when the promotion record was last updated in the
      source system.

      '
  - name: SOURCE_DELETED
    description: A flag indicating whether the promotion record has been deleted in
      the source system.
